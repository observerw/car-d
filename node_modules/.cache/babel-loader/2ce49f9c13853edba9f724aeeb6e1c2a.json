{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\front\\\\tmd\\\\src\\\\prop.js\";\nimport React from 'react';\nimport sha256 from 'js-sha256';\n\nclass PropItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      num: 0\n    };\n    this.name = props.name;\n    this.total = props.total; //总点数回调\n\n    this.partial = props.partial; //类别统计回调\n  }\n\n  changeNum(e) {\n    //由上层函数判断操作合法性\n    //如果操作合法，则改变当前对象的值\n    this.setState({\n      num: this.state.num + this.total(e, this.state.num)\n    });\n    this.partial(this.name, this.state.num);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      className: \"propItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }, this.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propCtrl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"propBtn\",\n      use: \"add\",\n      onClick: this.changeNum.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propNum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, this.state.num), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"propBtn\",\n      use: \"sub\",\n      onClick: this.changeNum.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}\n\nPropItem.temp = {};\n\nclass PropTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = props.items;\n    this.submit = props.callback.submit;\n    this.name = props.name;\n    this.callback = {\n      total: props.callback.cost,\n      partial: this.handleCost.bind(this)\n    };\n  }\n\n  componentDidMount() {\n    this.setState(PropTable.temp);\n  }\n\n  componentWillUnmount() {\n    for (let i in this.state) PropTable.temp[i] = this.state[i];\n\n    this.submit(this.state, this.name);\n  }\n\n  handleCost(name, num) {\n    this.setState({\n      [name]: num\n    });\n  }\n\n  render() {\n    let res = this.items.map(i => {\n      if (sha256(i) == '71819e56047309007b64b7c6c73d62f7e366776f57a684199de67c15d41269f0') console.log(i);\n      return /*#__PURE__*/React.createElement(PropItem, {\n        name: i,\n        key: sha256(i),\n        callback: this.callback,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 20\n        }\n      });\n    });\n    console.log(res);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propArea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, PropTable.transName[this.name]), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, res));\n  }\n\n}\n\nPropTable.transName = {\n  Academic: '学术能力',\n  Social: '社交能力',\n  Normal: '普通能力'\n};\nPropTable.temp = {};\n\nclass Academic extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = ['会计', '人类学', '考古学', '建筑学', '艺术史', '生物学', '密码学', '地质学', '克苏鲁神话', '历史', '语言', '法律', '文献查阅', '医学', '神秘学', '物理学', '神学'];\n    this.callback = props.callback;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PropTable, {\n      items: this.items,\n      callback: this.callback,\n      name: \"Academic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nclass Social extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = ['察言观色', '议价', '官僚', '警方交谈', '信誉', '奉承', '审讯', '威胁', '口述采访', '安抚', '底层社会'];\n    this.callback = props.callback;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PropTable, {\n      items: this.items,\n      callback: this.callback,\n      name: \"Social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nclass Normal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = ['运动', '藏匿', '伪装', '驾驶', '电器维修', '爆破', '偷窃', '枪械', '急救', '逃脱', '健康', '催眠', '机械维修', '导航', '物品整备', '精神分析', '骑术', '心智', '坚毅', '搏击', '警觉', '追踪', '潜行', '近战武器'];\n    this.callback = props.callback;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PropTable, {\n      items: this.items,\n      callback: this.callback,\n      name: \"Normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nexport { Academic, Social, Normal };","map":{"version":3,"sources":["E:/project/front/tmd/src/prop.js"],"names":["React","sha256","PropItem","Component","constructor","props","state","num","name","total","partial","changeNum","e","setState","render","bind","temp","PropTable","items","submit","callback","cost","handleCost","componentDidMount","componentWillUnmount","i","res","map","console","log","transName","Academic","Social","Normal"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,MAAMC,QAAN,SAAuBF,KAAK,CAACG,SAA7B,CAAuC;AAEnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE;AADI,KAAb;AAGA,SAAKC,IAAL,GAAYH,KAAK,CAACG,IAAlB;AACA,SAAKC,KAAL,GAAaJ,KAAK,CAACI,KAAnB,CANe,CAMa;;AAC5B,SAAKC,OAAL,GAAeL,KAAK,CAACK,OAArB,CAPe,CAOiB;AACnC;;AAEDC,EAAAA,SAAS,CAACC,CAAD,EAAI;AACT;AACA;AACA,SAAKC,QAAL,CAAc;AAAEN,MAAAA,GAAG,EAAE,KAAKD,KAAL,CAAWC,GAAX,GAAiB,KAAKE,KAAL,CAAWG,CAAX,EAAc,KAAKN,KAAL,CAAWC,GAAzB;AAAxB,KAAd;AACA,SAAKG,OAAL,CAAa,KAAKF,IAAlB,EAAwB,KAAKF,KAAL,CAAWC,GAAnC;AACH;;AAEDO,EAAAA,MAAM,GAAG;AACL,wBAAO;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKN,IADV,CADG,eAIH;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,SAAlB;AAA4B,MAAA,GAAG,EAAC,KAAhC;AAAsC,MAAA,OAAO,EAAE,KAAKG,SAAL,CAAeI,IAAf,CAAoB,IAApB,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKT,KAAL,CAAWC,GADhB,CAFJ,eAKI;AAAQ,MAAA,SAAS,EAAC,SAAlB;AAA4B,MAAA,GAAG,EAAC,KAAhC;AAAsC,MAAA,OAAO,EAAE,KAAKI,SAAL,CAAeI,IAAf,CAAoB,IAApB,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAJG,CAAP;AAYH;;AAhCkC;;AAAjCb,Q,CACKc,I,GAAO,E;;AAkClB,MAAMC,SAAN,SAAwBjB,KAAK,CAACG,SAA9B,CAAwC;AAQpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKa,KAAL,GAAab,KAAK,CAACa,KAAnB;AACA,SAAKC,MAAL,GAAcd,KAAK,CAACe,QAAN,CAAeD,MAA7B;AACA,SAAKX,IAAL,GAAYH,KAAK,CAACG,IAAlB;AAEA,SAAKY,QAAL,GAAgB;AACZX,MAAAA,KAAK,EAAEJ,KAAK,CAACe,QAAN,CAAeC,IADV;AAEZX,MAAAA,OAAO,EAAE,KAAKY,UAAL,CAAgBP,IAAhB,CAAqB,IAArB;AAFG,KAAhB;AAIH;;AAEDQ,EAAAA,iBAAiB,GAAG;AAChB,SAAKV,QAAL,CAAcI,SAAS,CAACD,IAAxB;AACH;;AAEDQ,EAAAA,oBAAoB,GAAG;AACnB,SAAK,IAAIC,CAAT,IAAc,KAAKnB,KAAnB,EACIW,SAAS,CAACD,IAAV,CAAeS,CAAf,IAAoB,KAAKnB,KAAL,CAAWmB,CAAX,CAApB;;AACJ,SAAKN,MAAL,CAAY,KAAKb,KAAjB,EAAwB,KAAKE,IAA7B;AACH;;AAEDc,EAAAA,UAAU,CAACd,IAAD,EAAOD,GAAP,EAAY;AAClB,SAAKM,QAAL,CAAc;AAAE,OAACL,IAAD,GAAQD;AAAV,KAAd;AACH;;AAEDO,EAAAA,MAAM,GAAG;AACL,QAAIY,GAAG,GAAG,KAAKR,KAAL,CAAWS,GAAX,CAAgBF,CAAD,IAAO;AAC5B,UAAGxB,MAAM,CAACwB,CAAD,CAAN,IAAa,kEAAhB,EAAmFG,OAAO,CAACC,GAAR,CAAYJ,CAAZ;AACnF,0BAAO,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAEA,CAAhB;AAAmB,QAAA,GAAG,EAAExB,MAAM,CAACwB,CAAD,CAA9B;AAAmC,QAAA,QAAQ,EAAE,KAAKL,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAHS,CAAV;AAIAQ,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIT,SAAS,CAACa,SAAV,CAAoB,KAAKtB,IAAzB,CADJ,CADJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKkB,GADL,CAHJ,CADJ;AASH;;AAjDmC;;AAAlCT,S,CACKa,S,GAAY;AACfC,EAAAA,QAAQ,EAAE,MADK;AAEfC,EAAAA,MAAM,EAAE,MAFO;AAGfC,EAAAA,MAAM,EAAE;AAHO,C;AADjBhB,S,CAMKD,I,GAAO,E;;AA8ClB,MAAMe,QAAN,SAAuB/B,KAAK,CAACG,SAA7B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKa,KAAL,GAAa,CAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,KAArB,EAA4B,KAA5B,EAAmC,KAAnC,EAA0C,KAA1C,EAAiD,KAAjD,EAAwD,OAAxD,EAAiE,IAAjE,EAAuE,IAAvE,EAA6E,IAA7E,EAAmF,MAAnF,EAA2F,IAA3F,EAAiG,KAAjG,EAAwG,KAAxG,EAA+G,IAA/G,CAAb;AACA,SAAKE,QAAL,GAAgBf,KAAK,CAACe,QAAtB;AACH;;AAEDN,EAAAA,MAAM,GAAG;AACL,wBAAO,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE,KAAKI,KAAvB;AAA8B,MAAA,QAAQ,EAAE,KAAKE,QAA7C;AAAuD,MAAA,IAAI,EAAC,UAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AATkC;;AAYvC,MAAMY,MAAN,SAAqBhC,KAAK,CAACG,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKa,KAAL,GAAa,CAAC,MAAD,EAAS,IAAT,EAAe,IAAf,EAAqB,MAArB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyC,IAAzC,EAA+C,IAA/C,EAAqD,MAArD,EAA6D,IAA7D,EAAmE,MAAnE,CAAb;AACA,SAAKE,QAAL,GAAgBf,KAAK,CAACe,QAAtB;AACH;;AAEDN,EAAAA,MAAM,GAAG;AACL,wBAAO,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE,KAAKI,KAAvB;AAA8B,MAAA,QAAQ,EAAE,KAAKE,QAA7C;AAAuD,MAAA,IAAI,EAAC,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AATgC;;AAYrC,MAAMa,MAAN,SAAqBjC,KAAK,CAACG,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKa,KAAL,GAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,MAAzB,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD,EAA+D,IAA/D,EAAqE,IAArE,EAA2E,MAA3E,EAAmF,IAAnF,EAAyF,MAAzF,EAAiG,MAAjG,EAAyG,IAAzG,EAA+G,IAA/G,EAAqH,IAArH,EAA2H,IAA3H,EAAiI,IAAjI,EAAuI,IAAvI,EAA6I,IAA7I,EAAmJ,MAAnJ,CAAb;AACA,SAAKE,QAAL,GAAgBf,KAAK,CAACe,QAAtB;AACH;;AAEDN,EAAAA,MAAM,GAAG;AACL,wBAAO,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE,KAAKI,KAAvB;AAA8B,MAAA,QAAQ,EAAE,KAAKE,QAA7C;AAAuD,MAAA,IAAI,EAAC,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AATgC;;AAYrC,SACIW,QADJ,EAEIC,MAFJ,EAGIC,MAHJ","sourcesContent":["import React from 'react';\r\nimport sha256 from 'js-sha256'\r\n\r\nclass PropItem extends React.Component {\r\n    static temp = {};\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            num: 0,\r\n        }\r\n        this.name = props.name;\r\n        this.total = props.total;   //总点数回调\r\n        this.partial = props.partial;   //类别统计回调\r\n    }\r\n\r\n    changeNum(e) {\r\n        //由上层函数判断操作合法性\r\n        //如果操作合法，则改变当前对象的值\r\n        this.setState({ num: this.state.num + this.total(e, this.state.num) });\r\n        this.partial(this.name, this.state.num);\r\n    }\r\n\r\n    render() {\r\n        return <td className='propItem'>\r\n            <div className='propName'>\r\n                {this.name}\r\n            </div>\r\n            <div className='propCtrl'>\r\n                <button className='propBtn' use='add' onClick={this.changeNum.bind(this)} />\r\n                <div className='propNum'>\r\n                    {this.state.num}\r\n                </div>\r\n                <button className='propBtn' use='sub' onClick={this.changeNum.bind(this)} />\r\n            </div>\r\n        </td>;\r\n    }\r\n}\r\n\r\nclass PropTable extends React.Component {\r\n    static transName = {\r\n        Academic: '学术能力',\r\n        Social: '社交能力',\r\n        Normal: '普通能力'\r\n    }\r\n    static temp = {};\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.items = props.items;\r\n        this.submit = props.callback.submit;\r\n        this.name = props.name;\r\n\r\n        this.callback = {\r\n            total: props.callback.cost,\r\n            partial: this.handleCost.bind(this)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState(PropTable.temp);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state)\r\n            PropTable.temp[i] = this.state[i];\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    handleCost(name, num) {\r\n        this.setState({ [name]: num });\r\n    }\r\n\r\n    render() {\r\n        let res = this.items.map((i) => {\r\n            if(sha256(i) == '71819e56047309007b64b7c6c73d62f7e366776f57a684199de67c15d41269f0')console.log(i);\r\n            return <PropItem name={i} key={sha256(i)} callback={this.callback} />;\r\n        });\r\n        console.log(res);\r\n        return (\r\n            <div className='propArea'>\r\n                <h1 className='title'>{\r\n                    PropTable.transName[this.name]}</h1>\r\n                <tr>\r\n                    {res}\r\n                </tr>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Academic extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.items = ['会计', '人类学', '考古学', '建筑学', '艺术史', '生物学', '密码学', '地质学', '克苏鲁神话', '历史', '语言', '法律', '文献查阅', '医学', '神秘学', '物理学', '神学'];\r\n        this.callback = props.callback;\r\n    }\r\n\r\n    render() {\r\n        return <PropTable items={this.items} callback={this.callback} name='Academic' />\r\n    }\r\n}\r\n\r\nclass Social extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.items = ['察言观色', '议价', '官僚', '警方交谈', '信誉', '奉承', '审讯', '威胁', '口述采访', '安抚', '底层社会'];\r\n        this.callback = props.callback;\r\n    }\r\n\r\n    render() {\r\n        return <PropTable items={this.items} callback={this.callback} name='Social' />\r\n    }\r\n}\r\n\r\nclass Normal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.items = ['运动', '藏匿', '伪装', '驾驶', '电器维修', '爆破', '偷窃', '枪械', '急救', '逃脱', '健康', '催眠', '机械维修', '导航', '物品整备', '精神分析', '骑术', '心智', '坚毅', '搏击', '警觉', '追踪', '潜行', '近战武器'];\r\n        this.callback = props.callback;\r\n    }\r\n\r\n    render() {\r\n        return <PropTable items={this.items} callback={this.callback} name='Normal' />\r\n    }\r\n}\r\n\r\nexport {\r\n    Academic,\r\n    Social,\r\n    Normal,\r\n};"]},"metadata":{},"sourceType":"module"}