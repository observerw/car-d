{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\front\\\\tmd\\\\src\\\\prop.js\";\nimport React from 'react';\nimport sha256 from 'js-sha256';\nvar temp = {};\n\nclass PropItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      num: props.value\n    };\n    this.name = props.name;\n    this.total = props.callback.total; //总点数回调\n\n    this.partial = props.callback.partial; //类别统计回调\n\n    this.partial(this.name, this.state.num);\n  }\n\n  changeNum(e) {\n    //由上层函数判断操作合法性\n    //如果操作合法，则改变当前对象的值\n    let n = this.state.num + this.total(e, this.state.num);\n    this.partial(this.name, n);\n    this.setState({\n      num: n\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"propItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, \" \", this.name, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propCtrl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"propBtn propBtn-left\",\n      value: \"sub\",\n      onClick: this.changeNum.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 25\n      }\n    }, \" - \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"propNum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 80\n      }\n    }, \" \", this.state.num, \" \"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"propBtn propBtn-right\",\n      value: \"add\",\n      onClick: this.changeNum.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 19\n      }\n    }, \" + \"), \" \"), \" \"), \" \");\n  }\n\n}\n\nclass PropTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = props.items;\n    this.submit = props.callback.submit;\n    this.name = props.name;\n    this.callback = {\n      total: props.callback.cost,\n      partial: this.handleCost.bind(this)\n    };\n    if (!(this.name in temp)) temp[this.name] = {};\n    this.state = temp[this.name];\n    console.log('state:', this.state);\n    this.res = this.items.map(i => {\n      return /*#__PURE__*/React.createElement(PropItem, {\n        name: i,\n        value: i in this.state ? this.state[i] : 0,\n        key: sha256(i),\n        callback: this.callback,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 20\n        }\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    for (let i in this.state) temp[this.name][i] = this.state[i]; //this.submit(this.state, this.name);\n\n  }\n\n  handleCost(name, num) {\n    this.setState({\n      [name]: num\n    });\n    this.submit(this.state, this.name);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      className: \"propArea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 45\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"th\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 18\n      }\n    }, \" \", PropTable.transName[this.name], \" \")), \" \", this.res, \" \"), \" \");\n  }\n\n}\n\nPropTable.transName = {\n  Academic: '学术能力',\n  Social: '社交能力',\n  Normal: '普通能力'\n};\n\nfunction Academic(props) {\n  var items = ['会计', '人类学', '考古学', '建筑学', '艺术史', '生物学', '密码学', '地质学', '克苏鲁神话', '历史', '语言', '法律', '文献查阅', '医学', '神秘学', '物理学', '神学'];\n  console.log(items.length);\n  return /*#__PURE__*/React.createElement(PropTable, {\n    items: items,\n    callback: props.callback,\n    name: \"Academic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 12\n    }\n  });\n}\n\nfunction Social(props) {\n  var items = ['察言观色', '议价', '官僚', '警方交谈', '信誉', '奉承', '审讯', '威胁', '口述采访', '安抚', '底层社会'];\n  return /*#__PURE__*/React.createElement(PropTable, {\n    items: items,\n    callback: props.callback,\n    name: \"Social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 12\n    }\n  });\n}\n\nfunction Normal(props) {\n  var items = ['运动', '藏匿', '伪装', '驾驶', '电器维修', '爆破', '偷窃', '枪械', '急救', '逃脱', '健康', '催眠', '机械维修', '导航', '物品整备', '精神分析', '骑术', '心智', '坚毅', '搏击', '警觉', '追踪', '潜行', '近战武器'];\n  return /*#__PURE__*/React.createElement(PropTable, {\n    items: items,\n    callback: props.callback,\n    name: \"Normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 12\n    }\n  });\n}\n\nexport { Academic, Social, Normal };","map":{"version":3,"sources":["E:/project/front/tmd/src/prop.js"],"names":["React","sha256","temp","PropItem","Component","constructor","props","state","num","value","name","total","callback","partial","changeNum","e","n","setState","render","bind","PropTable","items","submit","cost","handleCost","console","log","res","map","i","componentWillUnmount","transName","Academic","Social","Normal","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport sha256 from 'js-sha256'\r\n\r\nvar temp = {};\r\n\r\nclass PropItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            num: props.value,\r\n        }\r\n        this.name = props.name;\r\n        this.total = props.callback.total; //总点数回调\r\n        this.partial = props.callback.partial; //类别统计回调\r\n        this.partial(this.name, this.state.num);\r\n    }\r\n\r\n    changeNum(e) {\r\n        //由上层函数判断操作合法性\r\n        //如果操作合法，则改变当前对象的值\r\n        let n = this.state.num + this.total(e, this.state.num);\r\n        this.partial(this.name, n);\r\n        this.setState({ num: n });\r\n\r\n    }\r\n\r\n    render() {\r\n        return <tr >\r\n            <\r\n            td className='propItem' >\r\n                <\r\n            div className='propName' > {this.name} <\r\n            /div> <\r\n            div className='propCtrl' >\r\n                        <\r\n            button className='propBtn propBtn-left'\r\n                            value='sub'\r\n                            onClick={this.changeNum.bind(this)} > - < /button> <\r\n            div className='propNum' > {this.state.num} <\r\n            /div> <\r\n            button className='propBtn propBtn-right'\r\n                                    value='add'\r\n                                    onClick={this.changeNum.bind(this)} > + < /button> <\r\n            /div> <\r\n            /td> <\r\n            /tr>;\r\n    }\r\n}\r\n\r\nclass PropTable extends React.Component {\r\n                                        static transName = {\r\n                                        Academic: '学术能力',\r\n        Social: '社交能力',\r\n        Normal: '普通能力'\r\n    }\r\n\r\n    constructor(props) {\r\n                                        super(props);\r\n        this.items = props.items;\r\n        this.submit = props.callback.submit;\r\n        this.name = props.name;\r\n\r\n        this.callback = {\r\n                                        total: props.callback.cost,\r\n            partial: this.handleCost.bind(this)\r\n        }\r\n\r\n        if (!(this.name in temp)) temp[this.name] = {};\r\n        this.state = temp[this.name];\r\n        console.log('state:', this.state);\r\n        this.res = this.items.map((i) => {\r\n            return <PropItem name={i}\r\n                                        value={i in this.state ? this.state[i] : 0}\r\n                                        key={sha256(i)}\r\n                                        callback={this.callback}\r\n                                    />;\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state) temp[this.name][i] = this.state[i];\r\n\r\n        //this.submit(this.state, this.name);\r\n    }\r\n\r\n    handleCost(name, num) {\r\n                                        this.setState({\r\n                                            [name]: num\r\n                                        });\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    render() {\r\n        return ( <\r\n            table className='propArea' >\r\n                                        <\r\n            tbody >\r\n                                            <\r\n            tr > < th className='title' > {PropTable.transName[this.name]} < /th></tr > {this.res} <\r\n            /tbody> <\r\n            /table>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Academic(props) {\r\n    var items = ['会计', '人类学', '考古学', '建筑学', '艺术史', '生物学', '密码学', '地质学', '克苏鲁神话', '历史', '语言', '法律', '文献查阅', '医学', '神秘学', '物理学', '神学'];\r\n    console.log(items.length);\r\n\r\n    return <PropTable items={items}\r\n                                                    callback={props.callback}\r\n                                                    name='Academic' /> ;\r\n}\r\n\r\nfunction Social(props) {\r\n    var items = ['察言观色', '议价', '官僚', '警方交谈', '信誉', '奉承', '审讯', '威胁', '口述采访', '安抚', '底层社会'];\r\n\r\n    return <PropTable items={items}\r\n                                                    callback={props.callback}\r\n                                                    name='Social' /> ;\r\n}\r\n\r\nfunction Normal(props) {\r\n    var items = ['运动', '藏匿', '伪装', '驾驶', '电器维修', '爆破', '偷窃', '枪械', '急救', '逃脱', '健康', '催眠', '机械维修', '导航', '物品整备', '精神分析', '骑术', '心智', '坚毅', '搏击', '警觉', '追踪', '潜行', '近战武器'];\r\n\r\n    return <PropTable items={items}\r\n                                                    callback={props.callback}\r\n                                                    name='Normal' /> ;\r\n}\r\nexport {\r\n                                                    Academic,\r\n                                                    Social,\r\n                                                    Normal,\r\n};"]},"metadata":{},"sourceType":"module"}