{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\front\\\\tmd\\\\src\\\\component\\\\basic.js\";\nimport React from 'react';\nimport sha256 from 'js-sha256';\n\nclass Basic extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      occupation: '',\n      character: '',\n      background: ''\n    };\n    this.submit = props.submit;\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleImage = this.handleImage.bind(this);\n  }\n\n  handleSubmit(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleImage(e) {\n    let src = window.URL.createObjectURL(e.target.files[0]);\n    this.fileInput.current.src = src;\n  }\n\n  componentDidMount() {\n    this.setState(Basic.temp);\n  }\n\n  componentWillUnmount() {\n    for (let i in this.state) Basic.temp[i] = this.state[i];\n\n    this.submit(this.state, 'basic'); //上传basic数据\n  }\n\n  geneInput(title, name, sta = 0) {\n    let temp;\n    if (sta == 0) temp = /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input\",\n      name: name,\n      value: this.state[name],\n      onChange: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 34\n      }\n    });\n    if (sta == 1) temp = /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"input textarea\",\n      name: name,\n      value: this.state[name],\n      onChange: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 34\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputField\",\n      key: sha256(name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \" \", title, \"\\uFF1A \"), \" \", temp, \" \");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basicInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, \" \\u57FA\\u672C\\u4FE1\\u606F \"), [this.geneInput('调查员姓名', 'name'), this.geneInput('职业', 'occupation'), this.geneInput('性格特征', 'character'), this.geneInput('背景故事', 'background', 1)], /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \" \\u5934\\u50CF\\uFF1A \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      className: \"input\",\n      name: \"image\",\n      onChange: this.handleImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 62\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"img\", {\n      id: \"preview\",\n      ref: this.fileInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \" \"), \" \");\n  }\n\n}\n\nBasic.temp = {};\nexport default Basic;","map":{"version":3,"sources":["E:/project/front/tmd/src/component/basic.js"],"names":["React","sha256","Basic","Component","constructor","props","state","name","occupation","character","background","submit","handleSubmit","bind","handleImage","e","setState","target","value","src","window","URL","createObjectURL","files","fileInput","current","componentDidMount","temp","componentWillUnmount","i","geneInput","title","sta","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport sha256 from 'js-sha256'\r\n\r\n\r\nclass Basic extends React.Component {\r\n        static temp = {};\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                name: '',\r\n                occupation: '',\r\n                character: '',\r\n                background: '',\r\n            };\r\n            this.submit = props.submit;\r\n            this.handleSubmit = this.handleSubmit.bind(this);\r\n            this.handleImage = this.handleImage.bind(this);\r\n        }\r\n\r\n        handleSubmit(e) {\r\n            this.setState({\r\n                [e.target.name]: e.target.value })\r\n        }\r\n\r\n        handleImage(e) {\r\n            let src = window.URL.createObjectURL(e.target.files[0]);\r\n            this.fileInput.current.src = src;\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.setState(Basic.temp);\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            for (let i in this.state)\r\n                Basic.temp[i] = this.state[i];\r\n            this.submit(this.state, 'basic');\r\n            //上传basic数据\r\n        }\r\n\r\n        geneInput(title, name, sta = 0) {\r\n            let temp;\r\n            if (sta == 0) temp = < input className = \"input\"\r\n            name = { name }\r\n            value = { this.state[name] }\r\n            onChange = { this.handleSubmit }\r\n            />;\r\n            if (sta == 1) temp = < textarea className = \"input textarea\"\r\n            name = { name }\r\n            value = { this.state[name] }\r\n            onChange = { this.handleSubmit }\r\n            />;\r\n            return ( < div className = \"inputField\"\r\n                key = { sha256(name) } >\r\n                <\r\n                div className = \"itemName\" > { title }： < /div> { temp } <\r\n                /div>);\r\n            }\r\n\r\n            render() {\r\n                return ( <\r\n                    div className = \"basicInput\" >\r\n                    <\r\n                    h1 className = \"title\" > 基本信息 < /h1>\r\n\r\n                    {\r\n                        [this.geneInput('调查员姓名', 'name'),\r\n                            this.geneInput('职业', 'occupation'),\r\n                            this.geneInput('性格特征', 'character'),\r\n                            this.geneInput('背景故事', 'background', 1)\r\n                        ]\r\n                    }\r\n\r\n                    <\r\n                    div className = \"inputField\" >\r\n                    <\r\n                    div className = \"itemName\" > 头像： < /div> <\r\n                    input type = 'file'\r\n                    accept = 'image/*'\r\n                    className = \"input\"\r\n                    name = 'image'\r\n                    onChange = { this.handleImage }\r\n                    /> <\r\n                    /div>\r\n\r\n                    <\r\n                    img id = 'preview'\r\n                    ref = { this.fileInput } > < /img> <\r\n                    /div>\r\n                );\r\n            }\r\n        }\r\n\r\n        export default Basic;"]},"metadata":{},"sourceType":"module"}