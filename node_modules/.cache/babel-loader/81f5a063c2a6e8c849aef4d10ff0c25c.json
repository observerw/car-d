{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\mamom\\\\Desktop\\\\car-d\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\mamom\\\\Desktop\\\\car-d\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\mamom\\\\Desktop\\\\car-d\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\mamom\\\\Desktop\\\\car-d\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\mamom\\\\Desktop\\\\car-d\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\mamom\\\\Desktop\\\\car-d\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import PropTable from'./components/prop';import{TopButton,Jump}from\"./components/tools\";import Result from'./components/result';import Basic from'./components/basic';import'./App.css';import data from'./components/data/intro.json';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={ser:0,GP:50,AP:16,isPress:false,isInitial:true};_this.callback={cost:_this.changePoint.bind(_assertThisInitialized(_this)),submit:_this.handleSubmit.bind(_assertThisInitialized(_this))};_this.pageNum=Object.keys(data.transName).length;_this.handleKeyPress=_this.handleKeyPress.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;window.addEventListener('keydown',function(e){return _this2.handleKeyPress(true,e);});window.addEventListener('keyup',function(e){return _this2.handleKeyPress(false,e);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this3=this;window.removeEventListener('keydown',function(e){return _this3.handleKeyPress(true,e);});window.removeEventListener('keyup',function(e){return _this3.handleKeyPress(false,e);});}},{key:\"handleKeyPress\",value:function handleKeyPress(mode,e){if(mode){if(!this.state.isPress&&e.keyCode==17)this.setState({isPress:true});}else this.setState({isPress:false});}},{key:\"changeSer\",value:function changeSer(e){window.scrollTo(0,0);if(this.state.ser>this.pageNum||this.state.ser<0)return;if(this.state.ser===this.pageNum-2&&this.state.isInitial)this.setState({isInitial:false});if(e.target.value==='add')this.setState({ser:this.state.ser+1});if(e.target.value==='sub')this.setState({ser:this.state.ser-1});}},{key:\"jumpSer\",value:function jumpSer(num){window.scrollTo(0,0);this.setState({ser:num});}},{key:\"changePoint\",value:function changePoint(mode){return function(e,num){var b=this.state.isPress;var p=this.state[mode];var name=mode;if(e.target.value==='add'){if(p===0)return 0;//如果总点数为0则减小操作无效\nelse{var v=b?p>10?10:p:1;this.setState(_defineProperty({},name,p-v));return v;}}else if(e.target.value==='sub'){if(num===0)return 0;//如果对象剩余点数为0则增加操作无效\nelse{var _v=b?num>10?10:num:1;this.setState(_defineProperty({},name,p+_v));return-_v;}}}.bind(this);}},{key:\"handleSubmit\",value:function handleSubmit(data,name){this.setState(_defineProperty({},name,data));}},{key:\"render\",value:function render(){var rawPage=[/*#__PURE__*/React.createElement(Basic,{submit:this.handleSubmit.bind(this)}),/*#__PURE__*/React.createElement(PropTable,{name:\"Academic\",key:1,callback:this.callback}),/*#__PURE__*/React.createElement(PropTable,{name:\"Social\",key:2,callback:this.callback}),/*#__PURE__*/React.createElement(PropTable,{name:\"Technique\",key:3,callback:this.callback}),/*#__PURE__*/React.createElement(PropTable,{name:\"Normal\",key:4,callback:this.callback}),/*#__PURE__*/React.createElement(Result,{data:this.state})];var page=[/*#__PURE__*/React.createElement(Basic,{submit:this.handleSubmit.bind(this)}),/*#__PURE__*/React.createElement(PropTable,{name:\"Academic\",class:\"AP\",key:1,callback:this.callback}),/*#__PURE__*/React.createElement(PropTable,{name:\"Normal\",class:\"GP\",key:2,callback:this.callback}),/*#__PURE__*/React.createElement(PropTable,{name:\"Property\",class:\"GP\",key:3,callback:this.callback}),/*#__PURE__*/React.createElement(Result,{data:this.state})];return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Jump,{change:this.jumpSer.bind(this),num:[this.state.GP,this.state.AP],isInitial:this.state.isInitial}),/*#__PURE__*/React.createElement(\"div\",{className:\"inputArea\"},page[this.state.ser]),/*#__PURE__*/React.createElement(\"div\",{className:\"buttonArea\"},this.state.ser>0&&/*#__PURE__*/React.createElement(\"button\",{className:\"button button-left\",value:\"sub\",onClick:this.changeSer.bind(this)},\"\\u4E0A\\u4E00\\u6B65\"),this.state.ser!=this.pageNum-1&&/*#__PURE__*/React.createElement(\"button\",{className:\"button button-right\",value:\"add\",onClick:this.changeSer.bind(this)},\"\\u4E0B\\u4E00\\u6B65\"),/*#__PURE__*/React.createElement(TopButton,null)));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/mamom/Desktop/car-d/src/App.js"],"names":["React","PropTable","TopButton","Jump","Result","Basic","data","App","props","state","ser","GP","AP","isPress","isInitial","callback","cost","changePoint","bind","submit","handleSubmit","pageNum","Object","keys","transName","length","handleKeyPress","window","addEventListener","e","removeEventListener","mode","keyCode","setState","scrollTo","target","value","num","b","p","name","v","rawPage","page","jumpSer","changeSer","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTable from './components/prop'\r\nimport { TopButton, Jump } from \"./components/tools\";\r\nimport Result from './components/result';\r\nimport Basic from './components/basic'\r\nimport './App.css';\r\nimport data from './components/data/intro.json'\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ser: 0,\r\n            GP: 50,\r\n            AP: 16,\r\n            isPress: false,\r\n            isInitial: true,\r\n        }\r\n        this.callback = {\r\n            cost: this.changePoint.bind(this),\r\n            submit: this.handleSubmit.bind(this)\r\n        }\r\n        this.pageNum = Object.keys(data.transName).length;\r\n        this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        window.addEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.addEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.removeEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    handleKeyPress(mode, e) {\r\n        if (mode) {\r\n            if (!this.state.isPress && e.keyCode == 17) this.setState({ isPress: true });\r\n        } else this.setState({ isPress: false });\r\n    }\r\n\r\n    changeSer(e) {\r\n        window.scrollTo(0, 0);\r\n        if (this.state.ser > this.pageNum || this.state.ser < 0) return;\r\n        if (this.state.ser === this.pageNum - 2 && this.state.isInitial) this.setState({ isInitial: false });\r\n        if (e.target.value === 'add')\r\n            this.setState({ ser: this.state.ser + 1 });\r\n        if (e.target.value === 'sub')\r\n            this.setState({ ser: this.state.ser - 1 });\r\n    }\r\n\r\n    jumpSer(num) {\r\n        window.scrollTo(0, 0);\r\n        this.setState({ ser: num });\r\n    }\r\n\r\n    changePoint(mode) {\r\n        return function(e,num){\r\n            let b = this.state.isPress;\r\n            let p = this.state[mode];\r\n            let name = mode;\r\n            if (e.target.value === 'add') {\r\n                if (p === 0) return 0;  //如果总点数为0则减小操作无效\r\n                else {\r\n                    let v = b ? (p > 10 ? 10 : p) : 1;\r\n                    this.setState({ [name]: p - v });\r\n                    return v;\r\n                }\r\n            }\r\n            else if (e.target.value === 'sub') {\r\n                if (num === 0) return 0;   //如果对象剩余点数为0则增加操作无效\r\n                else {\r\n                    let v = b ? (num > 10 ? 10 : num) : 1;\r\n                    this.setState({ [name]: p + v });\r\n                    return -v;\r\n                }\r\n            }\r\n        }.bind(this);\r\n    }\r\n\r\n    handleSubmit(data, name) {\r\n        this.setState({ [name]: data });\r\n    }\r\n\r\n    render() {\r\n        var rawPage = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <PropTable name='Academic' key={1} callback={this.callback} />,\r\n            <PropTable name='Social' key={2} callback={this.callback} />,\r\n            <PropTable name='Technique' key={3} callback={this.callback} />,\r\n            <PropTable name='Normal' key={4} callback={this.callback} />,\r\n            <Result data={this.state} />];\r\n        var page = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <PropTable name='Academic' class=\"AP\" key={1} callback={this.callback} />,\r\n            <PropTable name='Normal' class=\"GP\" key={2} callback={this.callback} />,\r\n            <PropTable name='Property' class=\"GP\" key={3} callback={this.callback} />,\r\n            <Result data={this.state} />\r\n        ];\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <Jump change={this.jumpSer.bind(this)} num={[this.state.GP, this.state.AP]} isInitial={this.state.isInitial} />\r\n                <div className='inputArea'>\r\n                    {page[this.state.ser]}\r\n                </div>\r\n                <div className='buttonArea'>\r\n                    {this.state.ser > 0\r\n                        && <button className='button button-left' value='sub' onClick={this.changeSer.bind(this)}>上一步</button>}\r\n                    {this.state.ser != this.pageNum - 1\r\n                        && <button className='button button-right' value='add' onClick={this.changeSer.bind(this)}>下一步</button>}\r\n                    <TopButton />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}