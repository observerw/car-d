{"ast":null,"code":"import _defineProperty from\"E:\\\\project\\\\front\\\\tmd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\project\\\\front\\\\tmd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\project\\\\front\\\\tmd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\project\\\\front\\\\tmd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\project\\\\front\\\\tmd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\project\\\\front\\\\tmd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Academic,Social,Normal}from'./components/prop';import{TopButton,Jump}from\"./components/prompt\";import Result from'./components/result';import Basic from'./components/basic';import'./App.css';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={ser:0,point:100,isPress:false,isInitial:true};_this.callback={cost:_this.changePoint.bind(_assertThisInitialized(_this)),submit:_this.handleSubmit.bind(_assertThisInitialized(_this))};_this.pageNum=5;_this.handleKeyPress=_this.handleKeyPress.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;window.addEventListener('keydown',function(e){return _this2.handleKeyPress(true,e);});window.addEventListener('keyup',function(e){return _this2.handleKeyPress(false,e);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this3=this;window.removeEventListener('keydown',function(e){return _this3.handleKeyPress(true,e);});window.removeEventListener('keyup',function(e){return _this3.handleKeyPress(false,e);});}},{key:\"handleKeyPress\",value:function handleKeyPress(mode,e){if(mode){if(!this.state.isPress&&e.keyCode==17)this.setState({isPress:true});}else this.setState({isPress:false});}},{key:\"changeSer\",value:function changeSer(e){window.scrollTo(0,0);if(this.state.ser>this.pageNum||this.state.ser<0)return;if(this.state.ser===this.pageNum-2&&this.state.isInitial)this.setState({isInitial:false});if(e.target.value==='add')this.setState({ser:this.state.ser+1});if(e.target.value==='sub')this.setState({ser:this.state.ser-1});}},{key:\"jumpSer\",value:function jumpSer(num){window.scrollTo(0,0);this.setState({ser:num});}},{key:\"changePoint\",value:function changePoint(e,num){var b=this.state.isPress;var p=this.state.point;if(e.target.value==='add'){if(this.state.point===0)return 0;//如果总点数为0则减小操作无效\nelse{var v=b?p>10?10:p:1;this.setState({point:p-v});return v;}}else if(e.target.value==='sub'){if(num===0)return 0;//如果对象剩余点数为0则增加操作无效\nelse{var _v=b?num>10?10:num:1;this.setState({point:p+_v});return-_v;}}}},{key:\"handleSubmit\",value:function handleSubmit(data,name){this.setState(_defineProperty({},name,data));}},{key:\"render\",value:function render(){var temp=[/*#__PURE__*/React.createElement(Basic,{submit:this.handleSubmit.bind(this)}),/*#__PURE__*/React.createElement(Academic,{callback:this.callback}),/*#__PURE__*/React.createElement(Social,{callback:this.callback}),/*#__PURE__*/React.createElement(Normal,{callback:this.callback}),/*#__PURE__*/React.createElement(Result,{data:this.state})];return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Jump,{change:this.jumpSer.bind(this),num:this.state.point,isInitial:this.state.isInitial}),/*#__PURE__*/React.createElement(\"div\",{className:\"inputArea\"},temp[this.state.ser]),/*#__PURE__*/React.createElement(\"div\",{className:\"buttonArea\"},this.state.ser>0&&/*#__PURE__*/React.createElement(\"button\",{className:\"button button-left\",value:\"sub\",onClick:this.changeSer.bind(this)},\"\\u4E0A\\u4E00\\u6B65\"),this.state.ser<4&&/*#__PURE__*/React.createElement(\"button\",{className:\"button button-right\",value:\"add\",onClick:this.changeSer.bind(this)},\"\\u4E0B\\u4E00\\u6B65\")),/*#__PURE__*/React.createElement(TopButton,null));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["E:/project/front/tmd/src/App.js"],"names":["React","Academic","Social","Normal","TopButton","Jump","Result","Basic","App","props","state","ser","point","isPress","isInitial","callback","cost","changePoint","bind","submit","handleSubmit","pageNum","handleKeyPress","window","addEventListener","e","removeEventListener","mode","keyCode","setState","scrollTo","target","value","num","b","p","v","data","name","temp","jumpSer","changeSer","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Academic, Social, Normal } from './components/prop'\r\nimport { TopButton, Jump } from \"./components/prompt\";\r\nimport Result from './components/result';\r\nimport Basic from './components/basic'\r\nimport './App.css';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ser: 0,\r\n            point: 100,\r\n            isPress: false,\r\n            isInitial: true,\r\n        }\r\n        this.callback = {\r\n            cost: this.changePoint.bind(this),\r\n            submit: this.handleSubmit.bind(this)\r\n        }\r\n        this.pageNum = 5;\r\n        this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        window.addEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.addEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.removeEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    handleKeyPress(mode, e) {\r\n        if (mode) {\r\n            if (!this.state.isPress && e.keyCode == 17) this.setState({ isPress: true });\r\n        } else this.setState({ isPress: false });\r\n    }\r\n\r\n    changeSer(e) {\r\n        window.scrollTo(0, 0);\r\n        if (this.state.ser > this.pageNum || this.state.ser < 0) return;\r\n        if (this.state.ser === this.pageNum - 2 && this.state.isInitial) this.setState({ isInitial: false });\r\n        if (e.target.value === 'add')\r\n            this.setState({ ser: this.state.ser + 1 });\r\n        if (e.target.value === 'sub')\r\n            this.setState({ ser: this.state.ser - 1 });\r\n    }\r\n\r\n    jumpSer(num) {\r\n        window.scrollTo(0, 0);\r\n        this.setState({ ser: num });\r\n    }\r\n\r\n    changePoint(e, num) {\r\n        let b = this.state.isPress;\r\n        let p = this.state.point;\r\n        if (e.target.value === 'add') {\r\n            if (this.state.point === 0) return 0;  //如果总点数为0则减小操作无效\r\n            else {\r\n                let v = b ? (p > 10 ? 10 : p) : 1;\r\n                this.setState({ point: p - v });\r\n                return v;\r\n            }\r\n        }\r\n        else if (e.target.value === 'sub') {\r\n            if (num === 0) return 0;   //如果对象剩余点数为0则增加操作无效\r\n            else {\r\n                let v = b ? (num > 10 ? 10 : num) : 1;\r\n                this.setState({ point: p + v });\r\n                return -v;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit(data, name) {\r\n        this.setState({ [name]: data });\r\n    }\r\n\r\n    render() {\r\n        var temp = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <Academic callback={this.callback} />,\r\n            <Social callback={this.callback} />,\r\n            <Normal callback={this.callback} />,\r\n            <Result data={this.state} />];\r\n        return (\r\n            <div className=\"App\">\r\n                <Jump change={this.jumpSer.bind(this)} num={this.state.point} isInitial={this.state.isInitial} />\r\n                <div className='inputArea'>\r\n                    {temp[this.state.ser]}\r\n                </div>\r\n                <div className='buttonArea'>\r\n                    {this.state.ser > 0\r\n                        && <button className='button button-left' value='sub' onClick={this.changeSer.bind(this)}>上一步</button>}\r\n                    {this.state.ser < 4\r\n                        && <button className='button button-right' value='add' onClick={this.changeSer.bind(this)}>下一步</button>}\r\n                </div>\r\n                <TopButton />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}