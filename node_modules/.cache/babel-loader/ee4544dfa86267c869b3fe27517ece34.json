{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\front\\\\tmd\\\\src\\\\components\\\\result.js\";\nimport React from 'react';\nimport './CSS/result.css';\nimport sha256 from 'js-sha256';\nimport data from './data/intro.json';\nimport html2canvas from 'html2canvas';\nvar transName = data.transName;\n\nclass Result extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: props.data\n    };\n    this.handleData = this.handleData.bind(this);\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      data: props.data\n    });\n  }\n\n  handleData(name) {\n    if (!(name in this.state.data)) return;\n    let res = [/*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultTitle\",\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 20\n      }\n    }, transName[name])];\n    let data = this.state.data[name];\n\n    for (let i in data) res.push( /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultItems\",\n      id: sha256(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, i), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"resultItemsNum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, data[i])));\n\n    return res;\n  }\n\n  handleSrnShot() {\n    let des = document.getElementById('result');\n    console.log(window.getComputedStyle(des, null));\n    html2canvas(des, {\n      useCORS: true,\n      windowWidth: des.scrollWidth,\n      windowHeight: des.scrollHeight,\n      x: 0\n    }).then(canvas => document.body.appendChild(canvas));\n  }\n\n  render() {\n    let basic = { ...this.state.data['Basic']\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSrnShot.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"\\u7ED3\\u679C\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"result\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultBasic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultBasicTable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultBasicItems\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }, \"\\u59D3\\u540D\\uFF1A\", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 32\n      }\n    }, basic.name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultBasicItems\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \"\\u6027\\u683C\\uFF1A\", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 32\n      }\n    }, basic.character)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultBasicItems\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, \"\\u4E3B\\u6B66\\u5668\\uFF1A\", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }\n    }, basic.weapon))), /*#__PURE__*/React.createElement(\"img\", {\n      src: basic.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resultTable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, this.handleData('Property'), this.handleData('Academic'), this.handleData('Normal')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"backgroundStory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, \"\\u80CC\\u666F\\u6545\\u4E8B\"), /*#__PURE__*/React.createElement(\"article\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, basic.background))));\n  }\n\n}\n\nexport default Result;","map":{"version":3,"sources":["E:/project/front/tmd/src/components/result.js"],"names":["React","sha256","data","html2canvas","transName","Result","Component","constructor","props","state","handleData","bind","componentWillReceiveProps","setState","name","res","i","push","handleSrnShot","des","document","getElementById","console","log","window","getComputedStyle","useCORS","windowWidth","scrollWidth","windowHeight","scrollHeight","x","then","canvas","body","appendChild","render","basic","character","weapon","image","background"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './CSS/result.css'\r\nimport sha256 from 'js-sha256'\r\nimport data from './data/intro.json'\r\nimport html2canvas from 'html2canvas'\r\n\r\nvar transName = data.transName;\r\n\r\nclass Result extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n        };\r\n        this.handleData = this.handleData.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({ data: props.data });\r\n    }\r\n\r\n    handleData(name) {\r\n        if (!(name in this.state.data)) return;\r\n        let res = [<div className='resultTitle' id='title'>{transName[name]}</div>];\r\n        let data = this.state.data[name];\r\n        for (let i in data) res.push(\r\n            <div className='resultItems'\r\n                id={sha256(i)}>\r\n                <p>{i}</p>\r\n                <p className='resultItemsNum'>{data[i]}</p>\r\n            </div>);\r\n        return res;\r\n    }\r\n\r\n    handleSrnShot() {\r\n        let des = document.getElementById('result');\r\n        console.log(window.getComputedStyle(des,null));\r\n        html2canvas(des, {\r\n            useCORS: true,\r\n            windowWidth: des.scrollWidth,\r\n            windowHeight: des.scrollHeight,\r\n            x: 0,\r\n        }).then((canvas) => document.body.appendChild(canvas));\r\n    }\r\n\r\n    render() {\r\n        let basic = { ...this.state.data['Basic'] };\r\n        return (<div>\r\n            <button onClick={this.handleSrnShot.bind(this)} />\r\n            <div className='title'>结果</div>\r\n            <div id='result'>\r\n                <div className='resultBasic'>\r\n                    <div className='resultBasicTable'>\r\n                        <div className='resultBasicItems'>\r\n                            姓名：<p>{basic.name}</p>\r\n                        </div>\r\n                        <div className='resultBasicItems'>\r\n                            性格：<p>{basic.character}</p>\r\n                        </div>\r\n                        <div className='resultBasicItems'>\r\n                            主武器：<p>{basic.weapon}</p>\r\n                        </div>\r\n                    </div>\r\n                    <img src={basic.image} />\r\n                </div>\r\n                <div className='resultTable'>\r\n                    {this.handleData('Property')}\r\n                    {this.handleData('Academic')}\r\n                    {this.handleData('Normal')}\r\n                </div>\r\n                <div className='backgroundStory'>\r\n                    <h2>背景故事</h2>\r\n                    <article>\r\n                        {basic.background}\r\n                    </article>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default Result;"]},"metadata":{},"sourceType":"module"}