{"version":3,"sources":["components/prop.js","components/prompt.js","components/result.js","components/basic.js","App.js","serviceWorker.js","index.js"],"names":["temp","transName","Academic","Social","Normal","PropItem","props","state","num","value","isPrompt","name","class","intro","data","total","callback","partial","this","setState","e","n","className","data-tip","tipStyle","onClick","changeNum","bind","React","Component","PropTable","items","submit","cost","handleCost","res","map","i","key","sha256","TopButton","window","scrollTo","Jump","isShow","isShowList","isInitial","change","v","innerWidth","addEventListener","handleResize","removeEventListener","Result","handleData","push","id","basic","occupation","character","src","image","background","Basic","fileInput","createRef","handleSubmit","handleImage","target","type","style","scrollHeight","files","URL","createObjectURL","current","title","sta","onChange","geneInput","accept","ref","App","ser","point","isPress","changePoint","pageNum","handleKeyPress","mode","keyCode","b","p","jumpSer","changeSer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","createElement","StrictMode","document","getElementById","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.dbb4008c.chunk.js","sourcesContent":["import React from 'react';\r\nimport sha256 from 'js-sha256'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport './CSS/prop.css'\r\nimport data from './data/prompt.json'\r\nvar temp = {};\r\nvar transName = {\r\n    Academic: '学术能力',\r\n    Social: '社交能力',\r\n    Normal: '普通能力'\r\n}\r\n\r\nclass PropItem extends React.Component {\r\n    static tipStyle = {\r\n        \"data-place\": \"right\",\r\n        \"data-type\": \"info\",\r\n        \"data-background-color\":\"white\",\r\n        \"data-text-color\":\"rgb(0, 0, 0, 0.65)\",\r\n        \"data-class\":\"tips\"\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            num: props.value,\r\n            isPrompt: false,\r\n        }\r\n        this.name = props.name;\r\n        this.class = props.class;\r\n        this.intro = data[transName[this.class]][this.name];\r\n        this.total = props.callback.total;   //总点数回调\r\n        this.partial = props.callback.partial;   //类别统计回调\r\n        this.partial(this.name, this.state.num);\r\n    }\r\n\r\n    handlePrompt() {\r\n        this.setState({ isPrompt: true })\r\n    }\r\n\r\n    changeNum(e) {\r\n        //由上层函数判断操作合法性\r\n        //如果操作合法，则改变当前对象的值\r\n        let n = this.state.num + this.total(e, this.state.num);\r\n        this.partial(this.name, n);\r\n        this.setState({ num: n });\r\n    }\r\n\r\n    render() {\r\n        return <tr>\r\n            <td className='propItem'>\r\n                <ReactTooltip/>\r\n                <div className='propName' data-tip={this.intro} {...PropItem.tipStyle}>\r\n                    {this.name}\r\n                </div>\r\n                <div className='propCtrl'>\r\n                    <button className='propBtn propBtn-left' value='sub' onClick={this.changeNum.bind(this)} > - </button>\r\n                    <div className='propNum'>\r\n                        {this.state.num}\r\n                    </div>\r\n                    <button className='propBtn propBtn-right' value='add' onClick={this.changeNum.bind(this)} > + </button>\r\n                </div>\r\n            </td>\r\n        </tr>;\r\n    }\r\n}\r\n\r\nclass PropTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.items = props.items;\r\n        this.submit = props.callback.submit;\r\n        this.name = props.name;\r\n\r\n        this.callback = {\r\n            total: props.callback.cost,\r\n            partial: this.handleCost.bind(this)\r\n        }\r\n\r\n        if (!(this.name in temp)) temp[this.name] = {};\r\n        this.state = temp[this.name];\r\n        this.res = this.items.map((i) => {\r\n            return <PropItem class={this.name} name={i} value={i in this.state ? this.state[i] : 0}\r\n                key={sha256(i)} callback={this.callback} />;\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state) temp[this.name][i] = this.state[i];\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    handleCost(name, num) {\r\n        this.setState({ [name]: num });\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='propArea'>\r\n                <div className='title'>{transName[this.name]}</div>\r\n                <table>\r\n                    <tbody>\r\n                        {this.res}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Academic(props) {\r\n    var items = ['会计', '人类学', '考古学', '建筑学', '艺术史', '生物学', '密码学', '地质学', '克苏鲁神话', '历史', '语言', '法律', '文献查阅', '医学', '神秘学', '物理学', '神学'];\r\n\r\n    return <PropTable items={items} callback={props.callback} name='Academic' />;\r\n}\r\nfunction Social(props) {\r\n    var items = ['察言观色', '议价', '官僚', '警方交谈', '信誉', '奉承', '审讯', '威胁', '口述采访', '安抚', '底层社会'];\r\n\r\n    return <PropTable items={items} callback={props.callback} name='Social' />;\r\n}\r\n\r\nfunction Normal(props) {\r\n    var items = ['运动', '藏匿', '伪装', '驾驶', '电器维修', '爆破', '偷窃', '枪械', '急救', '逃脱', '健康', '催眠', '机械维修', '导航', '物品整备', '精神分析', '骑术', '心智', '坚毅', '搏击', '警觉', '追踪', '潜行', '近战武器'];\r\n\r\n    return <PropTable items={items} callback={props.callback} name='Normal' />;\r\n}\r\nexport {\r\n    Academic,\r\n    Social,\r\n    Normal,\r\n};","import React from 'react';\r\nimport './CSS/prompt.css'\r\n\r\nfunction TopButton() {\r\n    return (\r\n        <div className='topButton' onClick={() => { window.scrollTo(0, 0) }}>\r\n        </div>);\r\n}\r\n\r\nclass Jump extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShow: true,\r\n            isShowList: !props.isInitial,\r\n            num: props.num,\r\n        };\r\n        this.change = props.change;\r\n        this.name = ['基本信息', '学术能力', '社交能力', '普通能力', '结果'].map(\r\n            (v, i) => <div className='jumpItems' onClick={(e) => { this.change(i) }}>{v}</div>);\r\n    }\r\n\r\n    handleResize(e) {\r\n        if (e.innerWidth <= 1050) this.setState({ isShow: false });\r\n        else this.setState({ isShow: true });\r\n    }\r\n\r\n    componentWillMount() {\r\n        window.addEventListener('resize', this.handleResize.bind(this));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize.bind(this));\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            num: props.num,\r\n            isShowList: !props.isInitial,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (window.innerWidth <= 1050 && this.state.isShow) return <div></div>;\r\n        return (\r\n            (<div className='jump'>\r\n                {this.state.isShowList && this.name}\r\n                <div className='jumpPoint'>\r\n                    剩余总点数\r\n            <div className='jumpPointNum'>{this.state.num}</div>\r\n                </div>\r\n            </div>)\r\n        );\r\n    }\r\n}\r\n\r\nclass prompt extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport {\r\n    prompt,\r\n    TopButton,\r\n    Jump\r\n};","import React from 'react';\r\nimport './CSS/result.css'\r\nimport sha256 from 'js-sha256'\r\nimport html2canvas from 'html2canvas'\r\n\r\nclass Result extends React.Component {\r\n    static transName = {\r\n        Academic: '学术能力',\r\n        Social: '社交能力',\r\n        Normal: '普通能力'\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n        };\r\n        this.handleData = this.handleData.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({ data: props.data });\r\n    }\r\n\r\n    handleData(name) {\r\n        if (!(name in this.state.data)) return;\r\n        let res = [<div className='resultTitle'>{Result.transName[name]}</div>];\r\n        let data = this.state.data[name];\r\n        for (let i in data) res.push(\r\n            <div className='resultItems'\r\n                id={sha256(i)}>\r\n                <p>{i}</p>\r\n                <p className='resultItemsNum'>{data[i]}</p>\r\n            </div>);\r\n        return res;\r\n    }\r\n\r\n    render() {\r\n        let basic = { ...this.state.data['Basic'] };\r\n        return (<div className='result'>\r\n            <div className='title'>结果</div>\r\n            <div className='resultBasic'>\r\n                <div className='resultBasicTable'>\r\n                    <div className='resultBasicItems'>\r\n                        姓名：<p>{basic.name}</p>\r\n                    </div>\r\n                    <div className='resultBasicItems'>\r\n                        职业：<p>{basic.occupation}</p>\r\n                    </div>\r\n                    <div className='resultBasicItems'>\r\n                        性格：<p>{basic.character}</p>\r\n                    </div>\r\n                </div>\r\n                <img src={basic.image} />\r\n            </div>\r\n            <div className='resultTable'>\r\n                {this.handleData('Academic')}\r\n                {this.handleData('Social')}\r\n                {this.handleData('Normal')}\r\n            </div>\r\n            <div className='backgroundStory'>\r\n                <h2>背景故事</h2>\r\n                <article>\r\n                {basic.background}\r\n                </article>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default Result;","import React, { createRef } from 'react'\r\nimport sha256 from 'js-sha256'\r\nimport './CSS/basic.css'\r\n\r\nclass Basic extends React.Component {\r\n    static temp = {\r\n        name: '',\r\n        occupation: '',\r\n        character: '',\r\n        background: '',\r\n        image: ' ',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = Basic.temp;\r\n        this.submit = props.submit;\r\n        this.fileInput = createRef();\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleImage = this.handleImage.bind(this);\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        //自适应高度\r\n        if (e.target.type == 'textarea') {\r\n            e.target.style['height'] = 'auto';\r\n            e.target.style['height'] = e.target.scrollHeight + 'px';\r\n        }\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    handleImage(e) {\r\n        let src = e.target.files[0] ? window.URL.createObjectURL(e.target.files[0]) : ' ';\r\n        this.fileInput.current.src = src;\r\n        this.setState({ image: src });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state)\r\n            Basic.temp[i] = this.state[i];\r\n        this.submit(this.state, 'Basic');\r\n        //上传basic数据\r\n    }\r\n\r\n    geneInput(title, name, sta = 0) {\r\n        let temp;\r\n        if (sta === 0) temp = <input className='input' name={name} value={this.state[name]} onChange={this.handleSubmit} />;\r\n        if (sta === 1) temp = <textarea className='input inputTextarea' name={name} value={this.state[name]} onChange={this.handleSubmit} />;\r\n        return (<div className='inputField' key={sha256(name)}>\r\n            <div className='itemName'>{title}：</div>\r\n            {temp}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='basicInput'>\r\n                <div className='title'>基本信息</div>\r\n                {[this.geneInput('调查员姓名', 'name'),\r\n                this.geneInput('职业', 'occupation'),\r\n                this.geneInput('性格特征', 'character'),\r\n                this.geneInput('背景故事', 'background', 1)]}\r\n\r\n                <div className='inputField'>\r\n                    <div className='itemName'>头像：</div>\r\n                    <div className='input imgInput' >\r\n                        <p>点击此处上传图片</p>\r\n                        <input\r\n                            type='file'\r\n                            accept='image/*'\r\n                            id='rawImgInput' name='image'\r\n                            onChange={this.handleImage}\r\n                        />\r\n                    </div>\r\n\r\n                    <img id='preview' ref={this.fileInput}></img>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Basic;","import React from 'react';\r\nimport { Academic, Social, Normal } from './components/prop'\r\nimport { TopButton, Jump } from \"./components/prompt\";\r\nimport Result from './components/result';\r\nimport Basic from './components/basic'\r\nimport './App.css';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ser: 0,\r\n            point: 100,\r\n            isPress: false,\r\n            isInitial: true,\r\n        }\r\n        this.callback = {\r\n            cost: this.changePoint.bind(this),\r\n            submit: this.handleSubmit.bind(this)\r\n        }\r\n        this.pageNum = 5;\r\n        this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        window.addEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.addEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.removeEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    handleKeyPress(mode, e) {\r\n        if (mode) {\r\n            if (!this.state.isPress && e.keyCode == 17) this.setState({ isPress: true });\r\n        } else this.setState({ isPress: false });\r\n    }\r\n\r\n    changeSer(e) {\r\n        window.scrollTo(0, 0);\r\n        if (this.state.ser > this.pageNum || this.state.ser < 0) return;\r\n        if (this.state.ser === this.pageNum - 2 && this.state.isInitial) this.setState({ isInitial: false });\r\n        if (e.target.value === 'add')\r\n            this.setState({ ser: this.state.ser + 1 });\r\n        if (e.target.value === 'sub')\r\n            this.setState({ ser: this.state.ser - 1 });\r\n    }\r\n\r\n    jumpSer(num) {\r\n        window.scrollTo(0, 0);\r\n        this.setState({ ser: num });\r\n    }\r\n\r\n    changePoint(e, num) {\r\n        let b = this.state.isPress;\r\n        let p = this.state.point;\r\n        if (e.target.value === 'add') {\r\n            if (this.state.point === 0) return 0;  //如果总点数为0则减小操作无效\r\n            else {\r\n                let v = b ? (p > 10 ? 10 : p) : 1;\r\n                this.setState({ point: p - v });\r\n                return v;\r\n            }\r\n        }\r\n        else if (e.target.value === 'sub') {\r\n            if (num === 0) return 0;   //如果对象剩余点数为0则增加操作无效\r\n            else {\r\n                let v = b ? (num > 10 ? 10 : num) : 1;\r\n                this.setState({ point: p + v });\r\n                return -v;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit(data, name) {\r\n        this.setState({ [name]: data });\r\n    }\r\n\r\n    render() {\r\n        var temp = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <Academic callback={this.callback} />,\r\n            <Social callback={this.callback} />,\r\n            <Normal callback={this.callback} />,\r\n            <Result data={this.state} />];\r\n        return (\r\n            <div className=\"App\">\r\n                <Jump change={this.jumpSer.bind(this)} num={this.state.point} isInitial={this.state.isInitial} />\r\n                <div className='inputArea'>\r\n                    {temp[this.state.ser]}\r\n                </div>\r\n                <div className='buttonArea'>\r\n                    {this.state.ser > 0\r\n                        && <button className='button button-left' value='sub' onClick={this.changeSer.bind(this)}>上一步</button>}\r\n                    {this.state.ser < 4\r\n                        && <button className='button button-right' value='add' onClick={this.changeSer.bind(this)}>下一步</button>}\r\n                </div>\r\n                <TopButton />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nvar isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n// [::1] is the IPv6 localhost address.\r\nwindow.location.hostname === '[::1]' ||\r\n// 127.0.0.0/8 are considered localhost for IPv4.\r\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    var publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', function () {\r\n      var swUrl = process.env.PUBLIC_URL + '/service-worker.js';\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(function () {\r\n          console.log('This web app is being served cache-first by a service ' + 'worker. To learn more, visit https://bit.ly/CRA-PWA');\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker.register(swUrl).then(function (registration) {\r\n    registration.onupdatefound = function () {\r\n      var installingWorker = registration.installing;\r\n      if (installingWorker == null) {\r\n        return;\r\n      }\r\n      installingWorker.onstatechange = function () {\r\n        if (installingWorker.state === 'installed') {\r\n          if (navigator.serviceWorker.controller) {\r\n            // At this point, the updated precached content has been fetched,\r\n            // but the previous service worker will still serve the older\r\n            // content until all client tabs are closed.\r\n            console.log('New content is available and will be used when all ' + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.');\r\n\r\n            // Execute callback\r\n            if (config && config.onUpdate) {\r\n              config.onUpdate(registration);\r\n            }\r\n          } else {\r\n            // At this point, everything has been precached.\r\n            // It's the perfect time to display a\r\n            // \"Content is cached for offline use.\" message.\r\n            console.log('Content is cached for offline use.');\r\n\r\n            // Execute callback\r\n            if (config && config.onSuccess) {\r\n              config.onSuccess(registration);\r\n            }\r\n          }\r\n        }\r\n      };\r\n    };\r\n  }).catch(function (error) {\r\n    console.error('Error during service worker registration:', error);\r\n  });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  }).then(function (response) {\r\n    // Ensure service worker exists, and that we really are getting a JS file.\r\n    var contentType = response.headers.get('content-type');\r\n    if (response.status === 404 || contentType != null && contentType.indexOf('javascript') === -1) {\r\n      // No service worker found. Probably a different app. Reload the page.\r\n      navigator.serviceWorker.ready.then(function (registration) {\r\n        registration.unregister().then(function () {\r\n          window.location.reload();\r\n        });\r\n      });\r\n    } else {\r\n      // Service worker found. Proceed as normal.\r\n      registerValidSW(swUrl, config);\r\n    }\r\n  }).catch(function () {\r\n    console.log('No internet connection found. App is running in offline mode.');\r\n  });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(function (registration) {\r\n      registration.unregister();\r\n    }).catch(function (error) {\r\n      console.error(error.message);\r\n    });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(React.createElement(\r\n    React.StrictMode,\r\n    null,\r\n    React.createElement(App, null)\r\n), document.getElementById('root'));\r\n\r\nserviceWorker.register();"],"sourceRoot":""}