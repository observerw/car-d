(this.webpackJsonptmd=this.webpackJsonptmd||[]).push([[0],[,,,function(e){e.exports=JSON.parse('{"transName":{"Basic":"\u57fa\u672c\u4fe1\u606f","Academic":"\u5b66\u672f\u80fd\u529b","Normal":"\u666e\u901a\u80fd\u529b","Property":"\u57fa\u672c\u5c5e\u6027","Result":"\u7ed3\u679c"},"\u6027\u683c":["\u591a\u7591","\u66b4\u8e81","\u602f\u61e6","\u83bd\u649e","troublemaker","\u5b66\u7a76","\u5e7d\u95ed\u6050\u60e7","\u56fa\u6267","\u597d\u5947","\u51b7\u6f20"],"\u5b66\u672f\u80fd\u529b":{"\u5efa\u7b51\u5b66":"\u963f\u5df4\u963f\u5df4","\u7535\u5b50\u5de5\u7a0b":"\u963f\u5df4\u963f\u5df4","\u5bc6\u7801\u5b66":"\u963f\u5df4\u963f\u5df4","\u8bed\u8a00":"\u963f\u5df4\u963f\u5df4","\u5fc3\u7406\u5b66":"\u963f\u5df4\u963f\u5df4","\u5211\u4fa6\u5b66":"\u963f\u5df4\u963f\u5df4"},"\u57fa\u672c\u5c5e\u6027":{"\u5065\u5eb7":"\u963f\u5df4\u963f\u5df4","\u654f\u6377":"\u963f\u5df4\u963f\u5df4","\u5fc3\u667a":"\u963f\u5df4\u963f\u5df4","\u529b\u91cf":"\u963f\u5df4\u963f\u5df4"},"\u666e\u901a\u80fd\u529b":{"\u8fd0\u52a8":"\u963f\u5df4\u963f\u5df4","\u95ea\u907f":"\u963f\u5df4\u963f\u5df4","\u9690\u85cf":"\u963f\u5df4\u963f\u5df4","\u7535\u5668\u7ef4\u4fee":"\u963f\u5df4\u963f\u5df4","\u7206\u7834":"\u963f\u5df4\u963f\u5df4","\u5077\u7a83":"\u963f\u5df4\u963f\u5df4","\u640f\u6597":"\u963f\u5df4\u963f\u5df4","\u6025\u6551":"\u963f\u5df4\u963f\u5df4","\u8b66\u89c9":"\u963f\u5df4\u963f\u5df4","\u7ebf\u7d22\u91c7\u96c6":"\u963f\u5df4\u963f\u5df4"}}')},,,,,,,,,,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(11),l=a.n(s),r=(a(19),a(8)),c=a(4),o=a(5),u=a(2),m=a(7),h=a(6),d=a(9),v=a.n(d),b=a(13),p=(a(25),a(3)),f={},g=p.transName,k=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={num:e.value,isPrompt:!1},n.name=e.name,n.class=e.class,n.intro=p[g[n.class]][n.name],n.total=e.callback.total,console.log(n.total),n.partial=e.callback.partial,n.partial(n.name,n.state.num),n}return Object(o.a)(a,[{key:"handlePrompt",value:function(){this.setState({isPrompt:!0})}},{key:"changeNum",value:function(e){var t=this.state.num+this.total(e,this.state.num);this.partial(this.name,t),this.setState({num:t})}},{key:"render",value:function(){return i.a.createElement("tr",null,i.a.createElement("td",{className:"propItem"},i.a.createElement(b.a,null),i.a.createElement("div",Object.assign({className:"propName","data-tip":this.intro},a.tipStyle),this.name),i.a.createElement("div",{className:"propCtrl"},i.a.createElement("button",{className:"propBtn propBtn-left",value:"sub",onClick:this.changeNum.bind(this)}," - "),i.a.createElement("div",{className:"propNum"},this.state.num),i.a.createElement("button",{className:"propBtn propBtn-right",value:"add",onClick:this.changeNum.bind(this)}," + "))))}}]),a}(i.a.Component);k.tipStyle={"data-place":"right","data-type":"info","data-background-color":"white","data-text-color":"rgb(0, 0, 0, 0.65)","data-class":"tips"};var E=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).submit=e.callback.submit,n.name=e.name,n.items=Object.keys(p[g[n.name]]),n.class=e.class,n.callback={total:e.callback.cost(n.class),partial:n.handleCost.bind(Object(u.a)(n))},n.name in f||(f[n.name]={}),n.state=f[n.name],n.res=n.items.map((function(e){return i.a.createElement(k,{class:n.name,name:e,value:e in n.state?n.state[e]:0,key:v()(e),callback:n.callback})})),n}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){for(var e in this.state)f[this.name][e]=this.state[e];this.submit(this.state,this.name)}},{key:"handleCost",value:function(e,t){this.setState(Object(r.a)({},e,t)),this.submit(this.state,this.name)}},{key:"render",value:function(){return i.a.createElement("div",{className:"propArea"},i.a.createElement("div",{className:"title"},g[this.name]),i.a.createElement("table",null,i.a.createElement("tbody",null,this.res)))}}]),a}(i.a.Component),N=(a(26),Object.values(p.transName));function y(){return i.a.createElement("div",{className:"topButton",onClick:function(){window.scrollTo(0,0)}})}var w=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isShow:window.innerWidth>=1050,isShowList:!e.isInitial,GP:e.num[0],AP:e.num[1]},n.change=e.change,n.names=N.map((function(e,t){return i.a.createElement("div",{className:"jumpItems",id:Object(d.sha256)(e),onClick:function(e){n.change(t)}},e)})),window.addEventListener("resize",n.handleResize.bind(Object(u.a)(n))),n}return Object(o.a)(a,[{key:"handleResize",value:function(e){window.innerWidth<1050?this.setState({isShow:!1}):this.setState({isShow:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.setState({GP:e.num[0],AP:e.num[1],isShowList:!e.isInitial})}},{key:"render",value:function(){return this.state.isShow?i.a.createElement("div",{className:"jump"},this.state.isShowList&&this.names,i.a.createElement("div",{className:"jumpPoint"},"\u8c03\u67e5\u6280\u80fd\u70b9\u6570",i.a.createElement("div",{className:"jumpPointNum"},this.state.AP)),i.a.createElement("div",{className:"jumpPoint"},"\u901a\u7528\u6280\u80fd\u70b9\u6570",i.a.createElement("div",{className:"jumpPointNum"},this.state.GP))):null}}]),a}(i.a.Component),j=a(12),O=(a(27),a(28),p.transName),S=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:e.data},n.handleData=n.handleData.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"handleData",value:function(e){if(e in this.state.data){var t=[i.a.createElement("div",{className:"resultTitle",id:"title"},O[e])],a=this.state.data[e];for(var n in a)t.push(i.a.createElement("div",{className:"resultItems",id:v()(n)},i.a.createElement("p",null,n),i.a.createElement("p",{className:"resultItemsNum"},a[n])));return t}}},{key:"render",value:function(){var e=Object(j.a)({},this.state.data.Basic);return i.a.createElement("div",{className:"result"},i.a.createElement("div",{className:"title"},"\u7ed3\u679c"),i.a.createElement("div",{className:"resultBasic"},i.a.createElement("div",{className:"resultBasicTable"},i.a.createElement("div",{className:"resultBasicItems"},"\u59d3\u540d\uff1a",i.a.createElement("p",null,e.name)),i.a.createElement("div",{className:"resultBasicItems"},"\u6027\u683c\uff1a",i.a.createElement("p",null,e.character)),i.a.createElement("div",{className:"resultBasicItems"},"\u4e3b\u6b66\u5668\uff1a",i.a.createElement("p",null,e.weapon))),i.a.createElement("img",{src:e.image})),i.a.createElement("div",{className:"resultTable"},this.handleData("Property"),this.handleData("Academic"),this.handleData("Normal")),i.a.createElement("div",{className:"backgroundStory"},i.a.createElement("h2",null,"\u80cc\u666f\u6545\u4e8b"),i.a.createElement("article",null,e.background)))}}]),a}(i.a.Component),P=(a(29),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).state=a.temp,i.submit=e.submit,i.fileInput=Object(n.createRef)(),i.handleSubmit=i.handleSubmit.bind(Object(u.a)(i)),i.handleRandom=i.handleRandom.bind(Object(u.a)(i)),i.handleImage=i.handleImage.bind(Object(u.a)(i)),i}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){"textarea"==e.target.type&&(e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleRandom",value:function(e){if(""===this.state[e.target.name]){var t=p["\u6027\u683c"][Math.floor(10*Math.random())];this.setState(Object(r.a)({},e.target.name,t))}}},{key:"handleImage",value:function(e){var t=e.target.files[0]?window.URL.createObjectURL(e.target.files[0]):" ";this.fileInput.current.src=t,this.setState({image:t})}},{key:"componentWillUnmount",value:function(){for(var e in this.state)a.temp[e]=this.state[e];this.submit(this.state,"Basic")}},{key:"geneInput",value:function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 0===n&&(a=i.a.createElement("input",{className:"input",name:t,value:this.state[t],onChange:this.handleSubmit})),1===n&&(a=i.a.createElement("textarea",{className:"input inputTextarea",name:t,value:this.state[t],onChange:this.handleSubmit})),2===n&&(a=i.a.createElement("input",{className:"input",name:t,value:this.state[t],onClick:this.handleRandom})),i.a.createElement("div",{className:"inputField",key:v()(t)},i.a.createElement("div",{className:"itemName"},e,"\uff1a"),a)}},{key:"render",value:function(){return i.a.createElement("div",{className:"basicInput"},i.a.createElement("div",{className:"title"},"\u57fa\u672c\u4fe1\u606f"),[this.geneInput("\u8c03\u67e5\u5458\u59d3\u540d","name"),this.geneInput("\u6027\u683c\u7279\u5f81","character",2),this.geneInput("\u4e3b\u6b66\u5668","weapon"),this.geneInput("\u80cc\u666f\u6545\u4e8b","background",1)],i.a.createElement("div",{className:"inputField"},i.a.createElement("div",{className:"itemName"},"\u5934\u50cf\uff1a"),i.a.createElement("div",{className:"input imgInput"},i.a.createElement("p",null,"\u70b9\u51fb\u6b64\u5904\u4e0a\u4f20\u56fe\u7247"),i.a.createElement("input",{type:"file",accept:"image/*",id:"rawImgInput",name:"image",onChange:this.handleImage})),i.a.createElement("img",{id:"preview",ref:this.fileInput})))}}]),a}(i.a.Component));P.temp={name:"",occupation:"",character:"",background:"",image:" "};var I=P,C=(a(30),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={ser:0,GP:50,AP:16,isPress:!1,isInitial:!0},n.callback={cost:n.changePoint.bind(Object(u.a)(n)),submit:n.handleSubmit.bind(Object(u.a)(n))},n.pageNum=Object.keys(p.transName).length,n.handleKeyPress=n.handleKeyPress.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){return e.handleKeyPress(!0,t)})),window.addEventListener("keyup",(function(t){return e.handleKeyPress(!1,t)}))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("keydown",(function(t){return e.handleKeyPress(!0,t)})),window.removeEventListener("keyup",(function(t){return e.handleKeyPress(!1,t)}))}},{key:"handleKeyPress",value:function(e,t){e?this.state.isPress||17!=t.keyCode||this.setState({isPress:!0}):this.setState({isPress:!1})}},{key:"changeSer",value:function(e){window.scrollTo(0,0),this.state.ser>this.pageNum||this.state.ser<0||(this.state.ser===this.pageNum-2&&this.state.isInitial&&this.setState({isInitial:!1}),"add"===e.target.value&&this.setState({ser:this.state.ser+1}),"sub"===e.target.value&&this.setState({ser:this.state.ser-1}))}},{key:"jumpSer",value:function(e){window.scrollTo(0,0),this.setState({ser:e})}},{key:"changePoint",value:function(e){return function(t,a){var n=this.state.isPress,i=this.state[e],s=e;if("add"===t.target.value){if(0===i)return 0;var l=n?i>10?10:i:1;return this.setState(Object(r.a)({},s,i-l)),l}if("sub"===t.target.value){if(0===a)return 0;var c=n?a>10?10:a:1;return this.setState(Object(r.a)({},s,i+c)),-c}}.bind(this)}},{key:"handleSubmit",value:function(e,t){this.setState(Object(r.a)({},t,e))}},{key:"render",value:function(){this.handleSubmit.bind(this),this.callback,this.callback,this.callback,this.callback,this.state;var e=[i.a.createElement(I,{submit:this.handleSubmit.bind(this)}),i.a.createElement(E,{name:"Academic",class:"AP",key:1,callback:this.callback}),i.a.createElement(E,{name:"Normal",class:"GP",key:2,callback:this.callback}),i.a.createElement(E,{name:"Property",class:"GP",key:3,callback:this.callback}),i.a.createElement(S,{data:this.state})];return i.a.createElement("div",{className:"App"},i.a.createElement(w,{change:this.jumpSer.bind(this),num:[this.state.GP,this.state.AP],isInitial:this.state.isInitial}),i.a.createElement("div",{className:"inputArea"},e[this.state.ser]),i.a.createElement("div",{className:"buttonArea"},this.state.ser>0&&i.a.createElement("button",{className:"button button-left",value:"sub",onClick:this.changeSer.bind(this)},"\u4e0a\u4e00\u6b65"),this.state.ser!=this.pageNum-1&&i.a.createElement("button",{className:"button button-right",value:"add",onClick:this.changeSer.bind(this)},"\u4e0b\u4e00\u6b65"),i.a.createElement(y,null)))}}]),a}(i.a.Component)),A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="./service-worker.js";A?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):W(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):W(t,e)}))}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.2ac78a03.chunk.js.map