{"version":3,"sources":["components/prop.js","components/tools.js","components/result.js","components/basic.js","App.js","serviceWorker.js","index.js"],"names":["temp","transName","data","PropItem","props","state","num","value","isPrompt","name","class","intro","total","callback","partial","this","setState","e","n","className","data-tip","tipStyle","onClick","changeNum","bind","React","Component","PropTable","submit","items","Object","keys","cost","handleCost","res","map","i","key","sha256","names","values","TopButton","window","scrollTo","Jump","isShow","innerWidth","isShowList","isInitial","change","v","id","addEventListener","handleResize","removeEventListener","Result","handleData","push","basic","occupation","character","src","image","background","Basic","fileInput","createRef","handleSubmit","handleImage","target","type","style","scrollHeight","files","URL","createObjectURL","current","title","sta","onChange","geneInput","accept","ref","App","ser","point","isPress","changePoint","pageNum","handleKeyPress","mode","keyCode","b","p","page","jumpSer","changeSer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","createElement","StrictMode","document","getElementById","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3a5b033d.chunk.js","sourcesContent":["import React from 'react';\r\nimport sha256 from 'js-sha256'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport './CSS/prop.css'\r\nimport data from './data/intro.json'\r\nvar temp = {};\r\nvar transName = data.transName;\r\n\r\nclass PropItem extends React.Component {\r\n    static tipStyle = {\r\n        \"data-place\": \"right\",\r\n        \"data-type\": \"info\",\r\n        \"data-background-color\": \"white\",\r\n        \"data-text-color\": \"rgb(0, 0, 0, 0.65)\",\r\n        \"data-class\": \"tips\"\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            num: props.value,\r\n            isPrompt: false,\r\n        }\r\n        this.name = props.name;\r\n        this.class = props.class;\r\n        this.intro = data[transName[this.class]][this.name];\r\n        this.total = props.callback.total;   //总点数回调\r\n        this.partial = props.callback.partial;   //类别统计回调\r\n        this.partial(this.name, this.state.num);\r\n    }\r\n\r\n    handlePrompt() {\r\n        this.setState({ isPrompt: true })\r\n    }\r\n\r\n    changeNum(e) {\r\n        //由上层函数判断操作合法性\r\n        //如果操作合法，则改变当前对象的值\r\n        let n = this.state.num + this.total(e, this.state.num);\r\n        this.partial(this.name, n);\r\n        this.setState({ num: n });\r\n    }\r\n\r\n    render() {\r\n        return <tr>\r\n            <td className='propItem'>\r\n                <ReactTooltip />\r\n                <div className='propName' data-tip={this.intro} {...PropItem.tipStyle}>\r\n                    {this.name}\r\n                </div>\r\n                <div className='propCtrl'>\r\n                    <button className='propBtn propBtn-left' value='sub' onClick={this.changeNum.bind(this)} > - </button>\r\n                    <div className='propNum'>\r\n                        {this.state.num}\r\n                    </div>\r\n                    <button className='propBtn propBtn-right' value='add' onClick={this.changeNum.bind(this)} > + </button>\r\n                </div>\r\n            </td>\r\n        </tr>;\r\n    }\r\n}\r\n\r\nclass PropTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.submit = props.callback.submit;\r\n        this.name = props.name;\r\n        this.items = Object.keys(data[transName[this.name]]);\r\n\r\n        this.callback = {\r\n            total: props.callback.cost,\r\n            partial: this.handleCost.bind(this)\r\n        }\r\n\r\n        if (!(this.name in temp)) temp[this.name] = {};\r\n        this.state = temp[this.name];\r\n        this.res = this.items.map((i) => {\r\n            return <PropItem class={this.name} name={i} value={i in this.state ? this.state[i] : 0}\r\n                key={sha256(i)} callback={this.callback} />;\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state) temp[this.name][i] = this.state[i];\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    handleCost(name, num) {\r\n        this.setState({ [name]: num });\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='propArea'>\r\n                <div className='title'>{transName[this.name]}</div>\r\n                <table>\r\n                    <tbody>\r\n                        {this.res}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default PropTable;","import React from 'react';\r\nimport './CSS/prompt.css'\r\nimport data from './data/intro.json'\r\nimport { sha256 } from 'js-sha256';\r\nvar names = Object.values(data.transName);\r\n\r\nfunction TopButton() {\r\n    return (\r\n        <div className='topButton' onClick={() => { window.scrollTo(0, 0) }}>\r\n        </div>);\r\n}\r\n\r\nclass Jump extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShow: window.innerWidth >= 1050,\r\n            isShowList: !props.isInitial,\r\n            num: props.num,\r\n        };\r\n        this.change = props.change;\r\n        this.names = names.map(\r\n            (v, i) => <div className='jumpItems' id={sha256(v)} onClick={(e) => { this.change(i) }}>{v}</div>);\r\n\r\n        window.addEventListener('resize', this.handleResize.bind(this));\r\n\r\n    }\r\n\r\n    handleResize(e) {\r\n        if (window.innerWidth < 1050) this.setState({ isShow: false });\r\n        else this.setState({ isShow: true });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize.bind(this));\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            num: props.num,\r\n            isShowList: !props.isInitial,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isShow) return null;\r\n        return (\r\n            (<div className='jump'>\r\n                {this.state.isShowList && this.names}\r\n                <div className='jumpPoint'>\r\n                    剩余总点数\r\n            <div className='jumpPointNum'>{this.state.num}</div>\r\n                </div>\r\n            </div>)\r\n        );\r\n    }\r\n}\r\n\r\nexport {\r\n    TopButton,\r\n    Jump\r\n};","import React from 'react';\r\nimport './CSS/result.css'\r\nimport sha256 from 'js-sha256'\r\nimport data from './data/intro.json'\r\nimport html2canvas from 'html2canvas'\r\n\r\nvar transName = data.transName;\r\n\r\nclass Result extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n        };\r\n        this.handleData = this.handleData.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({ data: props.data });\r\n    }\r\n\r\n    handleData(name) {\r\n        if (!(name in this.state.data)) return;\r\n        let res = [<div className='resultTitle' id={'title'}>{transName[name]}</div>];\r\n        let data = this.state.data[name];\r\n        for (let i in data) res.push(\r\n            <div className='resultItems'\r\n                id={sha256(i)}>\r\n                <p>{i}</p>\r\n                <p className='resultItemsNum'>{data[i]}</p>\r\n            </div>);\r\n        return res;\r\n    }\r\n\r\n    render() {\r\n        let basic = { ...this.state.data['Basic'] };\r\n        return (<div className='result'>\r\n            <div className='title'>结果</div>\r\n            <div className='resultBasic'>\r\n                <div className='resultBasicTable'>\r\n                    <div className='resultBasicItems'>\r\n                        姓名：<p>{basic.name}</p>\r\n                    </div>\r\n                    <div className='resultBasicItems'>\r\n                        职业：<p>{basic.occupation}</p>\r\n                    </div>\r\n                    <div className='resultBasicItems'>\r\n                        性格：<p>{basic.character}</p>\r\n                    </div>\r\n                </div>\r\n                <img src={basic.image} />\r\n            </div>\r\n            <div className='resultTable'>\r\n                {this.handleData('Academic')}\r\n                {this.handleData('Social')}\r\n                {this.handleData('Technique')}\r\n                {this.handleData('Normal')}\r\n            </div>\r\n            <div className='backgroundStory'>\r\n                <h2>背景故事</h2>\r\n                <article>\r\n                    {basic.background}\r\n                </article>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default Result;","import React, { createRef } from 'react'\r\nimport sha256 from 'js-sha256'\r\nimport './CSS/basic.css'\r\n\r\nclass Basic extends React.Component {\r\n    static temp = {\r\n        name: '',\r\n        occupation: '',\r\n        character: '',\r\n        background: '',\r\n        image: ' ',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = Basic.temp;\r\n        this.submit = props.submit;\r\n        this.fileInput = createRef();\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleImage = this.handleImage.bind(this);\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        //自适应高度\r\n        if (e.target.type == 'textarea') {\r\n            e.target.style['height'] = 'auto';\r\n            e.target.style['height'] = e.target.scrollHeight + 'px';\r\n        }\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    handleImage(e) {\r\n        let src = e.target.files[0] ? window.URL.createObjectURL(e.target.files[0]) : ' ';\r\n        this.fileInput.current.src = src;\r\n        this.setState({ image: src });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state)\r\n            Basic.temp[i] = this.state[i];\r\n        this.submit(this.state, 'Basic');\r\n        //上传basic数据\r\n    }\r\n\r\n    geneInput(title, name, sta = 0) {\r\n        let temp;\r\n        if (sta === 0) temp = <input className='input' name={name} value={this.state[name]} onChange={this.handleSubmit} />;\r\n        if (sta === 1) temp = <textarea className='input inputTextarea' name={name} value={this.state[name]} onChange={this.handleSubmit} />;\r\n        return (<div className='inputField' key={sha256(name)}>\r\n            <div className='itemName'>{title}：</div>\r\n            {temp}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='basicInput'>\r\n                <div className='title'>基本信息</div>\r\n                {[this.geneInput('调查员姓名', 'name'),\r\n                this.geneInput('职业', 'occupation'),\r\n                this.geneInput('性格特征', 'character'),\r\n                this.geneInput('背景故事', 'background', 1)]}\r\n\r\n                <div className='inputField'>\r\n                    <div className='itemName'>头像：</div>\r\n                    <div className='input imgInput' >\r\n                        <p>点击此处上传图片</p>\r\n                        <input\r\n                            type='file'\r\n                            accept='image/*'\r\n                            id='rawImgInput' name='image'\r\n                            onChange={this.handleImage}\r\n                        />\r\n                    </div>\r\n\r\n                    <img id='preview' ref={this.fileInput}></img>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Basic;","import React from 'react';\r\nimport PropTable from './components/prop'\r\nimport { TopButton, Jump } from \"./components/tools\";\r\nimport Result from './components/result';\r\nimport Basic from './components/basic'\r\nimport './App.css';\r\nimport { sha256 } from 'js-sha256';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ser: 0,\r\n            point: 100,\r\n            isPress: false,\r\n            isInitial: true,\r\n        }\r\n        this.callback = {\r\n            cost: this.changePoint.bind(this),\r\n            submit: this.handleSubmit.bind(this)\r\n        }\r\n        this.pageNum = 6;\r\n        this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        window.addEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.addEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.removeEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    handleKeyPress(mode, e) {\r\n        if (mode) {\r\n            if (!this.state.isPress && e.keyCode == 17) this.setState({ isPress: true });\r\n        } else this.setState({ isPress: false });\r\n    }\r\n\r\n    changeSer(e) {\r\n        window.scrollTo(0, 0);\r\n        if (this.state.ser > this.pageNum || this.state.ser < 0) return;\r\n        if (this.state.ser === this.pageNum - 2 && this.state.isInitial) this.setState({ isInitial: false });\r\n        if (e.target.value === 'add')\r\n            this.setState({ ser: this.state.ser + 1 });\r\n        if (e.target.value === 'sub')\r\n            this.setState({ ser: this.state.ser - 1 });\r\n    }\r\n\r\n    jumpSer(num) {\r\n        window.scrollTo(0, 0);\r\n        this.setState({ ser: num });\r\n    }\r\n\r\n    changePoint(e, num) {\r\n        let b = this.state.isPress;\r\n        let p = this.state.point;\r\n        if (e.target.value === 'add') {\r\n            if (this.state.point === 0) return 0;  //如果总点数为0则减小操作无效\r\n            else {\r\n                let v = b ? (p > 10 ? 10 : p) : 1;\r\n                this.setState({ point: p - v });\r\n                return v;\r\n            }\r\n        }\r\n        else if (e.target.value === 'sub') {\r\n            if (num === 0) return 0;   //如果对象剩余点数为0则增加操作无效\r\n            else {\r\n                let v = b ? (num > 10 ? 10 : num) : 1;\r\n                this.setState({ point: p + v });\r\n                return -v;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit(data, name) {\r\n        this.setState({ [name]: data });\r\n    }\r\n\r\n    render() {\r\n        var page = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <PropTable name='Academic' key={sha256('Academic')} callback={this.callback} />,\r\n            <PropTable name='Social' key={sha256('Social')} callback={this.callback} />,\r\n            <PropTable name='Technique' key={sha256('Technique')} callback={this.callback} />,\r\n            <PropTable name='Normal' key={sha256('Normal')} callback={this.callback} />,\r\n            <Result data={this.state} />];\r\n        return (\r\n            <div className=\"App\">\r\n                <Jump change={this.jumpSer.bind(this)} num={this.state.point} isInitial={this.state.isInitial} />\r\n                <div className='inputArea'>\r\n                    {page[this.state.ser]}\r\n                </div>\r\n                <div className='buttonArea'>\r\n                    {this.state.ser > 0\r\n                        && <button className='button button-left' value='sub' onClick={this.changeSer.bind(this)}>上一步</button>}\r\n                    {this.state.ser != this.pageNum - 1\r\n                        && <button className='button button-right' value='add' onClick={this.changeSer.bind(this)}>下一步</button>}\r\n                    <TopButton />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nvar isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n// [::1] is the IPv6 localhost address.\r\nwindow.location.hostname === '[::1]' ||\r\n// 127.0.0.0/8 are considered localhost for IPv4.\r\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    var publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', function () {\r\n      var swUrl = process.env.PUBLIC_URL + '/service-worker.js';\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(function () {\r\n          console.log('This web app is being served cache-first by a service ' + 'worker. To learn more, visit https://bit.ly/CRA-PWA');\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker.register(swUrl).then(function (registration) {\r\n    registration.onupdatefound = function () {\r\n      var installingWorker = registration.installing;\r\n      if (installingWorker == null) {\r\n        return;\r\n      }\r\n      installingWorker.onstatechange = function () {\r\n        if (installingWorker.state === 'installed') {\r\n          if (navigator.serviceWorker.controller) {\r\n            // At this point, the updated precached content has been fetched,\r\n            // but the previous service worker will still serve the older\r\n            // content until all client tabs are closed.\r\n            console.log('New content is available and will be used when all ' + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.');\r\n\r\n            // Execute callback\r\n            if (config && config.onUpdate) {\r\n              config.onUpdate(registration);\r\n            }\r\n          } else {\r\n            // At this point, everything has been precached.\r\n            // It's the perfect time to display a\r\n            // \"Content is cached for offline use.\" message.\r\n            console.log('Content is cached for offline use.');\r\n\r\n            // Execute callback\r\n            if (config && config.onSuccess) {\r\n              config.onSuccess(registration);\r\n            }\r\n          }\r\n        }\r\n      };\r\n    };\r\n  }).catch(function (error) {\r\n    console.error('Error during service worker registration:', error);\r\n  });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  }).then(function (response) {\r\n    // Ensure service worker exists, and that we really are getting a JS file.\r\n    var contentType = response.headers.get('content-type');\r\n    if (response.status === 404 || contentType != null && contentType.indexOf('javascript') === -1) {\r\n      // No service worker found. Probably a different app. Reload the page.\r\n      navigator.serviceWorker.ready.then(function (registration) {\r\n        registration.unregister().then(function () {\r\n          window.location.reload();\r\n        });\r\n      });\r\n    } else {\r\n      // Service worker found. Proceed as normal.\r\n      registerValidSW(swUrl, config);\r\n    }\r\n  }).catch(function () {\r\n    console.log('No internet connection found. App is running in offline mode.');\r\n  });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(function (registration) {\r\n      registration.unregister();\r\n    }).catch(function (error) {\r\n      console.error(error.message);\r\n    });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(React.createElement(\r\n    React.StrictMode,\r\n    null,\r\n    React.createElement(App, null)\r\n), document.getElementById('root'));\r\n\r\nserviceWorker.register();"],"sourceRoot":""}