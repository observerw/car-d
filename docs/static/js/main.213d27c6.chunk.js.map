{"version":3,"sources":["components/prop.js","components/tools.js","components/result.js","components/basic.js","App.js","serviceWorker.js","index.js"],"names":["temp","transName","data","basicValue","PropItem","props","state","num","value","isPrompt","name","class","intro","total","callback","partial","this","setState","e","n","className","data-tip","tipStyle","onClick","changeNum","bind","React","Component","PropTable","submit","items","Object","keys","cost","handleCost","res","map","i","key","sha256","names","values","TopButton","window","scrollTo","Jump","isShow","innerWidth","isShowList","isInitial","GP","AP","change","v","id","addEventListener","handleResize","removeEventListener","Result","handleData","push","des","document","getElementById","css","getComputedStyle","f","parseFloat","substring","length","html2canvas","useCORS","width","height","windowWidth","scrollWidth","windowHeight","scrollHeight","x","then","canvas","base64Img","toDataURL","a","createElement","download","href","click","basic","handleSrnShot","character","weapon","src","image","background","Basic","fileInput","createRef","handleSubmit","handleRandom","handleImage","target","type","style","d","Math","floor","random","files","URL","createObjectURL","current","title","sta","onChange","geneInput","accept","ref","occupation","App","ser","isPress","changePoint","pageNum","handleKeyPress","mode","keyCode","b","p","page","jumpSer","changeSer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","process","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.213d27c6.chunk.js","sourcesContent":["import React from 'react';\r\nimport sha256 from 'js-sha256'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport './CSS/prop.css'\r\nimport data from './data/intro.json'\r\nvar temp = {};\r\nvar transName = data.transName;\r\nvar basicValue = data.basicValue;\r\n\r\nclass PropItem extends React.Component {\r\n    static tipStyle = {\r\n        \"data-place\": \"right\",\r\n        \"data-type\": \"info\",\r\n        \"data-background-color\": \"white\",\r\n        \"data-text-color\": \"rgb(0, 0, 0, 0.65)\",\r\n        \"data-class\": \"tips\"\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            num: props.value,\r\n            isPrompt: false,\r\n        }\r\n        this.name = props.name;\r\n        this.class = props.class;\r\n        this.intro = data[transName[this.class]][this.name];\r\n        this.total = props.callback.total;   //总点数回调\r\n        this.partial = props.callback.partial;   //类别统计回调\r\n        this.partial(this.name, this.state.num);\r\n    }\r\n\r\n    handlePrompt() {\r\n        this.setState({ isPrompt: true })\r\n    }\r\n\r\n    changeNum(e) {\r\n        //由上层函数判断操作合法性\r\n        //如果操作合法，则改变当前对象的值\r\n        let n = this.state.num + this.total(e, this.state.num);\r\n        this.partial(this.name, n);\r\n        this.setState({ num: n });\r\n    }\r\n\r\n    render() {\r\n        return <tr>\r\n            <td className='propItem'>\r\n                <ReactTooltip />\r\n                <div className='propName' data-tip={this.intro} {...PropItem.tipStyle}>\r\n                    {this.name}\r\n                </div>\r\n                <div className='propCtrl'>\r\n                    <button className='propBtn propBtn-left' value='sub' onClick={this.changeNum.bind(this)} > - </button>\r\n                    <div className='propNum'>\r\n                        {this.state.num}\r\n                    </div>\r\n                    <button className='propBtn propBtn-right' value='add' onClick={this.changeNum.bind(this)} > + </button>\r\n                </div>\r\n            </td>\r\n        </tr>;\r\n    }\r\n}\r\n\r\nclass PropTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.submit = props.callback.submit;\r\n        this.name = props.name;\r\n        this.items = Object.keys(data[transName[this.name]]);\r\n        this.class = props.class;\r\n\r\n        this.callback = {\r\n            total: props.callback.cost(this.class),\r\n            partial: this.handleCost.bind(this)\r\n        }\r\n\r\n        if (!(this.name in temp)) temp[this.name] = {};\r\n        this.state = temp[this.name];\r\n        this.res = this.items.map((i) => {\r\n            return <PropItem class={this.name} name={i}\r\n                value={i in this.state ? this.state[i] : (i in basicValue ? basicValue[i] : 0)}\r\n                key={sha256(i)} callback={this.callback} />;\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state) temp[this.name][i] = this.state[i];\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    handleCost(name, num) {\r\n        this.setState({ [name]: num });\r\n        this.submit(this.state, this.name);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='propArea'>\r\n                <div className='title'>{transName[this.name]}</div>\r\n                <table>\r\n                    <tbody>\r\n                        {this.res}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default PropTable;","import React from 'react';\r\nimport './CSS/prompt.css'\r\nimport data from './data/intro.json'\r\nimport { sha256 } from 'js-sha256';\r\nvar names = Object.values(data.transName);\r\n\r\nfunction TopButton() {\r\n    return (\r\n        <div className='topButton' onClick={() => { window.scrollTo(0, 0) }}>\r\n        </div>);\r\n}\r\n\r\nclass Jump extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShow: window.innerWidth >= 1050,\r\n            isShowList: !props.isInitial,\r\n            GP: props.num[0],\r\n            AP: props.num[1],\r\n        };\r\n        this.change = props.change;\r\n        this.names = names.map(\r\n            (v, i) => <div className='jumpItems' id={sha256(v)} onClick={(e) => { this.change(i) }}>{v}</div>);\r\n\r\n        window.addEventListener('resize', this.handleResize.bind(this));\r\n\r\n    }\r\n\r\n    handleResize(e) {\r\n        if (window.innerWidth < 1050) this.setState({ isShow: false });\r\n        else this.setState({ isShow: true });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize.bind(this));\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            GP: props.num[0],\r\n            AP: props.num[1],\r\n            isShowList: !props.isInitial,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isShow) return null;\r\n        return (\r\n            (<div className='jump'>\r\n                {this.state.isShowList && this.names}\r\n                <div className='jumpPoint'>\r\n                    调查技能点数\r\n                <div className='jumpPointNum'>{this.state.AP}</div>\r\n                </div>\r\n                <div className='jumpPoint'>\r\n                    通用技能点数\r\n                <div className='jumpPointNum'>{this.state.GP}</div>\r\n                </div>\r\n            </div>)\r\n        );\r\n    }\r\n}\r\n\r\nexport {\r\n    TopButton,\r\n    Jump\r\n};","import React from 'react';\r\nimport './CSS/result.css'\r\nimport sha256 from 'js-sha256'\r\nimport data from './data/intro.json'\r\nimport html2canvas from 'html2canvas'\r\n\r\nvar transName = data.transName;\r\n\r\nclass Result extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n        };\r\n        this.handleData = this.handleData.bind(this);\r\n    }\r\n\r\n    handleData(name) {\r\n        if (!(name in this.state.data)) return;\r\n        let res = [<div className='resultTitle' id='title'>{transName[name]}</div>];\r\n        let data = this.state.data[name];\r\n        for (let i in data) res.push(\r\n            <div className='resultItems'\r\n                id={sha256(i)}>\r\n                <p>{i}</p>\r\n                <p className='resultItemsNum'>{data[i]}</p>\r\n            </div>);\r\n        return res;\r\n    }\r\n\r\n    handleSrnShot() {\r\n        let des = document.getElementById('result');\r\n        let css = window.getComputedStyle(des, null);\r\n        let f = (name) => parseFloat(css[name].substring(0, css['height'].length - 2));\r\n        html2canvas(des, {\r\n            useCORS: true,\r\n            width: f('width') + 50,\r\n            height: f('height'),\r\n            windowWidth: des.scrollWidth,\r\n            windowHeight: des.scrollHeight,\r\n            x: 0,\r\n        }).then(canvas => {\r\n            const base64Img = canvas.toDataURL('image/png', 1);\r\n            var a = document.createElement('a');\r\n            a.download = '卡';\r\n            a.href = base64Img;\r\n            a.click();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let basic = { ...this.state.data['Basic'] };\r\n        return (<div>\r\n\r\n            <div className='title'>结果</div>\r\n            <button className='button' onClick={this.handleSrnShot.bind(this)} >下载</button>\r\n            <div id='result'>\r\n                <div className='resultBasic'>\r\n                    <div className='resultBasicTable'>\r\n                        <div className='resultBasicItems'>\r\n                            姓名：<p>{basic.name}</p>\r\n                        </div>\r\n                        <div className='resultBasicItems'>\r\n                            性格：<p>{basic.character}</p>\r\n                        </div>\r\n                        <div className='resultBasicItems'>\r\n                            主武器：<p>{basic.weapon}</p>\r\n                        </div>\r\n                    </div>\r\n                    <img src={basic.image} />\r\n                </div>\r\n                <div className='resultTable'>\r\n                    {this.handleData('Property')}\r\n                    {this.handleData('Academic')}\r\n                    {this.handleData('Normal')}\r\n                </div>\r\n                <div className='backgroundStory'>\r\n                    <h2>背景故事</h2>\r\n                    <article>\r\n                        {basic.background}\r\n                    </article>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default Result;","import React, { createRef } from 'react'\r\nimport sha256 from 'js-sha256'\r\nimport './CSS/basic.css'\r\nimport data from \"./data/intro.json\"\r\n\r\nclass Basic extends React.Component {\r\n    static temp = {\r\n        name: '',\r\n        occupation: '',\r\n        character: '',\r\n        background: '',\r\n        image: ' ',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = Basic.temp;\r\n        this.submit = props.submit;\r\n        this.fileInput = createRef();\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleRandom = this.handleRandom.bind(this);\r\n        this.handleImage = this.handleImage.bind(this);\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        //自适应高度\r\n        if (e.target.type == 'textarea') {\r\n            e.target.style['height'] = 'auto';\r\n            e.target.style['height'] = e.target.scrollHeight + 'px';\r\n        }\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    handleRandom(e) {\r\n        //只随机一次\r\n        let d = data['性格'];\r\n        if (this.state[e.target.name] === '') {\r\n            let res = d[Math.floor(Math.random() * d.length)];\r\n            this.setState({ [e.target.name]: res });\r\n        }\r\n    }\r\n\r\n    handleImage(e) {\r\n        let src = e.target.files[0] ? window.URL.createObjectURL(e.target.files[0]) : ' ';\r\n        this.fileInput.current.src = src;\r\n        this.setState({ image: src });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        for (let i in this.state)\r\n            Basic.temp[i] = this.state[i];\r\n        this.submit(this.state, 'Basic');\r\n        //上传basic数据\r\n    }\r\n\r\n    geneInput(title, name, sta = 0) {\r\n        let temp;\r\n        if (sta === 0) temp = <input className='input' name={name} value={this.state[name]} onChange={this.handleSubmit} />;\r\n        if (sta === 1) temp = <textarea className='input inputTextarea' name={name} value={this.state[name]} onChange={this.handleSubmit} />;\r\n        if (sta === 2) temp = <input className='input' name={name} value={this.state[name]} onClick={this.handleRandom} />;\r\n        return (<div className='inputField' key={sha256(name)}>\r\n            <div className='itemName'>{title}：</div>\r\n            {temp}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='basicInput'>\r\n                <div className='title'>基本信息</div>\r\n                {[this.geneInput('调查员姓名', 'name'),\r\n                this.geneInput('性格特征', 'character', 2),\r\n                this.geneInput('主武器', 'weapon'),\r\n                this.geneInput('背景故事', 'background', 1)]}\r\n\r\n                <div className='inputField'>\r\n                    <div className='itemName'>头像：</div>\r\n                    <div className='input imgInput' >\r\n                        <p>点击此处上传图片</p>\r\n                        <input\r\n                            type='file'\r\n                            accept='image/*'\r\n                            id='rawImgInput' name='image'\r\n                            onChange={this.handleImage}\r\n                        />\r\n                    </div>\r\n\r\n                    <img id='preview' ref={this.fileInput}></img>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Basic;","import React from 'react';\r\nimport PropTable from './components/prop'\r\nimport { TopButton, Jump } from \"./components/tools\";\r\nimport Result from './components/result';\r\nimport Basic from './components/basic'\r\nimport './App.css';\r\nimport data from './components/data/intro.json'\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ser: 0,\r\n            GP: 50,\r\n            AP: 16,\r\n            isPress: false,\r\n            isInitial: true,\r\n        }\r\n        this.callback = {\r\n            cost: this.changePoint.bind(this),\r\n            submit: this.handleSubmit.bind(this)\r\n        }\r\n        this.pageNum = Object.keys(data.transName).length;\r\n        this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        window.addEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.addEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', e => this.handleKeyPress(true, e));\r\n        window.removeEventListener('keyup', e => this.handleKeyPress(false, e));\r\n    }\r\n\r\n    handleKeyPress(mode, e) {\r\n        if (mode) {\r\n            if (!this.state.isPress && e.keyCode == 17) this.setState({ isPress: true });\r\n        } else this.setState({ isPress: false });\r\n    }\r\n\r\n    changeSer(e) {\r\n        window.scrollTo(0, 0);\r\n        if (this.state.ser > this.pageNum || this.state.ser < 0) return;\r\n        if (this.state.ser === this.pageNum - 2 && this.state.isInitial) this.setState({ isInitial: false });\r\n        if (e.target.value === 'add')\r\n            this.setState({ ser: this.state.ser + 1 });\r\n        if (e.target.value === 'sub')\r\n            this.setState({ ser: this.state.ser - 1 });\r\n    }\r\n\r\n    jumpSer(num) {\r\n        window.scrollTo(0, 0);\r\n        this.setState({ ser: num });\r\n    }\r\n\r\n    changePoint(mode) {\r\n        return function(e,num){\r\n            let b = this.state.isPress;\r\n            let p = this.state[mode];\r\n            let name = mode;\r\n            if (e.target.value === 'add') {\r\n                if (p === 0) return 0;  //如果总点数为0则减小操作无效\r\n                else {\r\n                    let v = b ? (p > 10 ? 10 : p) : 1;\r\n                    this.setState({ [name]: p - v });\r\n                    return v;\r\n                }\r\n            }\r\n            else if (e.target.value === 'sub') {\r\n                if (num === 0) return 0;   //如果对象剩余点数为0则增加操作无效\r\n                else {\r\n                    let v = b ? (num > 10 ? 10 : num) : 1;\r\n                    this.setState({ [name]: p + v });\r\n                    return -v;\r\n                }\r\n            }\r\n        }.bind(this);\r\n    }\r\n\r\n    handleSubmit(data, name) {\r\n        this.setState({ [name]: data });\r\n    }\r\n\r\n    render() {\r\n        var rawPage = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <PropTable name='Academic' key={1} callback={this.callback} />,\r\n            <PropTable name='Social' key={2} callback={this.callback} />,\r\n            <PropTable name='Technique' key={3} callback={this.callback} />,\r\n            <PropTable name='Normal' key={4} callback={this.callback} />,\r\n            <Result data={this.state} />];\r\n        var page = [\r\n            <Basic submit={this.handleSubmit.bind(this)} />,\r\n            <PropTable name='Academic' class=\"AP\" key={1} callback={this.callback} />,\r\n            <PropTable name='Normal' class=\"GP\" key={2} callback={this.callback} />,\r\n            <PropTable name='Property' class=\"GP\" key={3} callback={this.callback} />,\r\n            <Result data={this.state} />\r\n        ];\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <Jump change={this.jumpSer.bind(this)} num={[this.state.GP, this.state.AP]} isInitial={this.state.isInitial} />\r\n                <div className='inputArea'>\r\n                    {page[this.state.ser]}\r\n                </div>\r\n                <div className='buttonArea'>\r\n                    {this.state.ser > 0\r\n                        && <button className='button button-left' value='sub' onClick={this.changeSer.bind(this)}>上一步</button>}\r\n                    {this.state.ser != this.pageNum - 1\r\n                        && <button className='button button-right' value='add' onClick={this.changeSer.bind(this)}>下一步</button>}\r\n                    <TopButton />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nvar isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n// [::1] is the IPv6 localhost address.\r\nwindow.location.hostname === '[::1]' ||\r\n// 127.0.0.0/8 are considered localhost for IPv4.\r\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    var publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', function () {\r\n      var swUrl = process.env.PUBLIC_URL + '/service-worker.js';\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(function () {\r\n          console.log('This web app is being served cache-first by a service ' + 'worker. To learn more, visit https://bit.ly/CRA-PWA');\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker.register(swUrl).then(function (registration) {\r\n    registration.onupdatefound = function () {\r\n      var installingWorker = registration.installing;\r\n      if (installingWorker == null) {\r\n        return;\r\n      }\r\n      installingWorker.onstatechange = function () {\r\n        if (installingWorker.state === 'installed') {\r\n          if (navigator.serviceWorker.controller) {\r\n            // At this point, the updated precached content has been fetched,\r\n            // but the previous service worker will still serve the older\r\n            // content until all client tabs are closed.\r\n            console.log('New content is available and will be used when all ' + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.');\r\n\r\n            // Execute callback\r\n            if (config && config.onUpdate) {\r\n              config.onUpdate(registration);\r\n            }\r\n          } else {\r\n            // At this point, everything has been precached.\r\n            // It's the perfect time to display a\r\n            // \"Content is cached for offline use.\" message.\r\n            console.log('Content is cached for offline use.');\r\n\r\n            // Execute callback\r\n            if (config && config.onSuccess) {\r\n              config.onSuccess(registration);\r\n            }\r\n          }\r\n        }\r\n      };\r\n    };\r\n  }).catch(function (error) {\r\n    console.error('Error during service worker registration:', error);\r\n  });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  }).then(function (response) {\r\n    // Ensure service worker exists, and that we really are getting a JS file.\r\n    var contentType = response.headers.get('content-type');\r\n    if (response.status === 404 || contentType != null && contentType.indexOf('javascript') === -1) {\r\n      // No service worker found. Probably a different app. Reload the page.\r\n      navigator.serviceWorker.ready.then(function (registration) {\r\n        registration.unregister().then(function () {\r\n          window.location.reload();\r\n        });\r\n      });\r\n    } else {\r\n      // Service worker found. Proceed as normal.\r\n      registerValidSW(swUrl, config);\r\n    }\r\n  }).catch(function () {\r\n    console.log('No internet connection found. App is running in offline mode.');\r\n  });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(function (registration) {\r\n      registration.unregister();\r\n    }).catch(function (error) {\r\n      console.error(error.message);\r\n    });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(React.createElement(\r\n    React.StrictMode,\r\n    null,\r\n    React.createElement(App, null)\r\n), document.getElementById('root'));\r\n\r\nserviceWorker.register();"],"sourceRoot":""}